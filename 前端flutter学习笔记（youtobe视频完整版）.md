

## flutterå¼€å‘

### ä¸€ã€ç¯å¢ƒå®‰è£…

æ•™ç¨‹ï¼šhttp://t.csdnimg.cn/KZWW3

flutter SDKï¼šhttp://t.csdnimg.cn/KZWW3

Android studioï¼šhttps://developer.android.com/studio 

ä½ çš„ç¬¬ä¸€ä¸ªflutter appï¼š https://codelabs.developers.google.com/codelabs/flutter-codelab-first#0

flutteræ²¹ç®¡è§†é¢‘æ•™ç¨‹ï¼šhttps://www.youtube.com/playlist?list=PL4cUxeGkcC9jLYyp2Aoh6hcWuxFDX6PBJ

flutterç»„ä»¶å­¦ä¹ åˆ©å™¨ï¼šhttps://github.com/toly1994328/FlutterUnit



### äºŒã€Dartè¯­æ³•

åšå®¢ç¬”è®°ï¼šhttp://t.csdnimg.cn/q0eX4

è¯¥è§†é¢‘çš„ä»£ç ï¼šhttps://github.com/iamshaunjp/flutter-beginners-tutorial/tree/master

åˆ†æ”¯åºå·å¯¹åº”è§†é¢‘åºå·

![image-20231116111348474](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231116111348474.png)

### ä¸‰ã€éƒ¨ä»¶

#### 1ã€è®¤è¯†éƒ¨ä»¶ï¼ˆé¦–å­—æ¯å¤§å†™ï¼Œå¹¶ä¸”æ¯ä¸ªå°æ‹¬å·åé¢è¦æœ‰é€—å·ï¼‰

```
import 'package:flutter/material.dart';

void main() => runApp(MaterialApp(      // 'Scaffold' å®ç°äº†åŸºæœ¬çš„ Material Design å¯è§†åŒ–å¸ƒå±€ç»“æ„, æä¾›äº†ç”¨äºæ˜¾ç¤ºdrawerã€snackbarå’Œåº•éƒ¨sheetçš„API
  home: Home(),
));

// 'home' ç”¨äºæŒ‡å®šè¿›å…¥åº”ç”¨ç¨‹åºåæ˜¾ç¤ºçš„ç¬¬ä¸€ä¸ªé¡µé¢ï¼Œå³ç”¨æ¥å®šä¹‰å½“å‰åº”ç”¨ç¨‹åºæ‰“å¼€æ—¶æ‰€æ˜¾ç¤ºçš„ç•Œé¢ã€‚è¯¥å±æ€§å€¼ä¸ºWidgetç±»å‹
```

```
class Home extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold( 
    // 'Scaffold' å®ç°äº†åŸºæœ¬çš„ Material Design å¯è§†åŒ–å¸ƒå±€ç»“æ„, æä¾›äº†ç”¨äºæ˜¾ç¤ºdrawerã€snackbarå’Œåº•éƒ¨sheetçš„API                        
      appBar: AppBar(                        
      // 'AppBar' å†³å®šé¡¶éƒ¨å±æ€§æ å¤–è§‚, AppBar å†…å¯ä»¥æŒ‡å®šå±æ€§
      )
      
      body:
      //'body'å±æ€§å†³å®šçš„æ˜¯å±å¹•ä¸»ä½“éƒ¨åˆ†çš„å†…å®¹ï¼Œå°±æ˜¯åº”ç”¨æ ä¸‹çš„ä»»ä½•å†…å®¹éƒ½æ˜¯bodyå®ç°çš„
      
      
      floatingActionButton: FloatingActionButton(       
      // 'FloatingActionButton' æ˜¯ä¸€ä¸ªæ‚¬æµ®åœ¨å±å¹•ä¸Šæ–¹çš„æŒ‰é’®ï¼Œå¸¸ç”¨äºè®¾ç½®è¯„è®ºåŒº
        onPressed: () {},                               
        // æ²¡æœ‰'onPressed:() {},'å›è°ƒï¼Œ ä¼šæŠ¥é”™ï¼ˆç‚¸è£‚ï¼Œæ•™ç¨‹æ²¡åŠ æ€ä¹ˆä¸ä¼šæŠ¥é”™ï¼Ÿï¼Ÿï¼Ÿå‘äº†å¥½å¤šæ—¶é—´ï¼‰
        child: Text('click'),
        backgroundColor: Colors.red[600],               
        // è°ƒé¢œè‰²å‚æ•°æ¥æº: https://m2.material.io/design/color/the-color-system.html#tools-for-picking-colors
      ),
    );
```

//AppBarçš„æ•ˆæœï¼Œä½œç”¨äºåº”ç”¨æ 

![image-20231104195551095](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104195551095.png)

//bodyçš„ä½œç”¨äºå±å¹•ä¸»ä½“éƒ¨åˆ†

![image-20231104195744869](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104195744869.png)

//floatingActionButton: FloatingActionButton()è®¾ç½®ä¸€ä¸ªæ‚¬æµ®æ“ä½œçš„æŒ‰é’®

![image-20231104200023491](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104200023491.png)

æ›´å¤šçš„ç»„ä»¶å†…å®¹ï¼šScaffold classï¼šhttps://api.flutter.dev/flutter/material/Scaffold-class.html



#### 2ã€é¢œè‰²ä¸å­—ä½“

##### 2.1 é¢œè‰²Color

```
// è°ƒé¢œè‰²å‚æ•°æ¥æº: https://m2.material.io/design/color/the-color-system.html#tools-for-picking-colors
```

backgroundColorï¼šColors.red[600]//é€‰æ‹©é¢œè‰²

##### 2.2 å­—ä½“Fonts

```
child: Text(                      // 'text' æ”¾åœ¨ 'Center' è€Œä¸æ˜¯ç›´æ¥æ”¾åœ¨ 'body', ä½¿å¾—å†…å®¹é›†ä¸­åµŒå¥—åœ¨å†…éƒ¨ä¸­å¿ƒï¼ˆä¸ç„¶å¾ˆä¸‘ï¼‰
  'hello ninjas',
  style: TextStyle(
    fontSize: 20.0,               // å­—ä½“å¤§å°
    fontWeight: FontWeight.bold,  // å­—ä½“ç²—ç»†
    letterSpacing: 2.0,           // å­—æ¯é—´è·
    color: Colors.grey[600],      // å­—ä½“é¢œè‰²
    fontFamily: 'IndieFlower',    // å­—ä½“å½¢å¼ï¼Œè°ƒç”¨æ–°å­—ä½“å‰è¦ç°åœ¨ pubspec.yaml æŒ‡å®šï¼Œè¯¦è§æœ«å°¾æ³¨é‡Š
  ),
),
```



1ã€è½¬åŒ–å­—ä½“éœ€è¦å…ˆåˆ°: https://fonts.google.com/specimen/Indie+Flower?query=indie+flo ä¸‹è½½ç›®æ ‡å­—ä½“çš„å‹ç¼©åŒ…
2ã€å°† ttf æ–‡ä»¶æ‹–æ‹½åˆ° fonts æ–‡ä»¶å¤¹ä¸­ï¼ˆè‡ªå·±åˆ›å»ºï¼‰ï¼Œåœ¨ pubspec.yaml ä¸­å‘Šè¯‰ flutter å¯ä»¥ç”¨æ–°å­—ä½“äº†
3ã€pubspec.yaml æœ‰ç‚¹åƒé¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨ pubspec.yaml ä¸­æŒ‡å®šç¯å¢ƒã€ä¾èµ–é¡¹æˆ–æˆ‘ä»¬æƒ³åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„ä»»ä½• asset å’Œ fonts
4ã€pubspec.yaml æ ¼å¼ä¸¥æ ¼ï¼ŒåŒ…æ‹¬ç¼©è¿›ç­‰ï¼Œç¨æœ‰ä¸åŒéƒ½ä¼šå¯¼è‡´å­—ä½“æ›´æ”¹å¤±è´¥ï¼Œä¸”ä¸ä¼šæŠ¥é”™ï¼ˆæ‰‹åŠ¨æ‰“çˆ†è¿™ä¸€æ­¥ï¼Œå‘äº†å¤ªå¤šæ—¶é—´ï¼‰
5ã€æ‰¾åˆ° fonts, å…ˆå–æ¶ˆæ³¨é‡Šï¼Œè°ƒæ•´æ ¼å¼ã€‚
6ã€åˆ æ‰ä¸éœ€è¦çš„ã€‚èµ·ç ç•™ä¸‹ fonts é‡Œé¢ç¬¬ä¸€è¡Œçš„ ==family ä¸€è¾¹ä¿®æ”¹å­—ä½“==ï¼›ç•™ä¸‹==ç¬¬ä¸€ä¸ª asset æ”¾æ–°å­—ä½“çš„åœ°å€==
7ã€å›åˆ° main.dart åï¼Œè‡ªåŠ¨æ˜¾ç¤ºpubspecæœ‰å˜åŒ–ï¼Œç‚¹å‡»è·å–ä¾èµ–é¡¹ï¼Œæœ€ååœ¨ä»£ç ä¸­æŒ‡å®šå­—ä½“å³å¯

![image-20231104215009762](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104215009762.png)

![image-20231104215110893](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104215110893.png)

#### 3ã€æ— çŠ¶æ€å°éƒ¨ä»¶å’Œçƒ­é‡è½½

æ— çŠ¶æ€å°éƒ¨ä»¶ï¼šä¸ä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œæ”¹å˜ï¼Œä¾‹å¦‚å¸ƒå±€ã€é¢œè‰²

çŠ¶æ€å°éƒ¨ä»¶ï¼šåŒ…å«å¯ä»¥éšç€æ—¶é—´çš„æ¨ç§»è€Œæ”¹å˜çš„

æ ¹æ®è®¾è®¡çš„è¦æ±‚é€‰æ‹©æœ‰æ— çŠ¶æ€å°éƒ¨ä»¶

è®¾è®¡æ— çŠ¶æ€å°éƒ¨ä»¶

```
class Home extends StatelessWidget {//å®šä¹‰äº†ä¸€ä¸ªHomeçš„æ— çŠ¶æ€å°éƒ¨ä»¶ï¼Œç„¶åä¸Šé¢çš„mainåªéœ€è¦è¿”å›è¿™ä¸ªå°±å¯ä»¥äº†ï¼Œå¸®åŠ©çƒ­é‡è½½
  @override
  Widget build(BuildContext context) {//è¿™ä¸ªéƒ¨åˆ†å°±æ˜¯æ›´æ–°çƒ­é‡è½½çš„
    return Scaffold(
    
    );//å†…å®¹åµŒåœ¨è¿™é‡Œé¢
    }
    }
```



```
void main() => runApp(MaterialApp(      // 'Scaffold' å®ç°äº†åŸºæœ¬çš„ Material Design å¯è§†åŒ–å¸ƒå±€ç»“æ„, æä¾›äº†ç”¨äºæ˜¾ç¤ºdrawerã€snackbarå’Œåº•éƒ¨sheetçš„API
  home: Home(),
));
```

è¿™æ ·çš„å†™æ³•æœ‰ç‚¹ç›¸å½“äºå‡½æ•°ï¼Œå¯ä»¥æä¾›æˆ‘ä»¬é‡å¤ä½¿ç”¨ä¸€ä¸ªä¸œè¥¿ã€‚



#### 4ã€å›¾åƒimageå’Œå¿«æ·æ–¹å¼Assets

##### 4.1å›¾åƒ

```

body:Center(
child: Image(
  è°ƒç”¨ç½‘ç»œç…§ç‰‡ï¼Œå°±æ˜¯è¦å¤åˆ¶å›¾ç‰‡çš„è¿æ¥URLï¼Œ
  image:NetworkImage('https://www.bing.com/th?id=OIP.YavLB3rCtQSn2U1IJBbJugAAAA&w=155&h=150&c=8&rs=1&qlt=90&o=6&dpr=1.5&pid=3.1&rm=2')
  è°ƒç”¨æœ¬åœ°å›¾åƒå‰è¦å…ˆè®¾ç½® pubspec.yaml
  image: AssetImage('assets/dog-1.jpg'),   
  // NetworkImage('') ä¸­å¯ä»¥æ”¾é“¾æ¥
  //Assetimage('') åˆ™æ”¾æœ¬åœ°URL
)
)

// ä½¿ç”¨AssetImage åŒæ ·éœ€è¦åœ¨ pubspec.yaml è¿›è¡Œè®¾ç½®
// å¦‚æœä½¿ç”¨æŸæ–‡ä»¶å¤¹å†…çš„å¤šä¸ªå›¾åƒï¼Œåªéœ€è¦å£°æ˜ folder çš„åå­—ï¼ˆè®°å¾—åœ¨ folder åå­—åé¢åŠ æ–œæ† '/' ï¼‰

```

![image-20231104221610587](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104221610587.png)



##### 4.2 å›¾åƒå¿«æ·æ–¹å¼

```
// è°ƒç”¨å›¾åƒçš„ç®€ä¾¿å†™æ³•
child: Image.asset('assets/dog-1.jpg'),
child: Image.network('https://www.bing.com/th?id=OIP.YavLB3rCtQSn2U1IJB
```



#### 5ã€Iconså›¾æ ‡å’ŒButtonæŒ‰é’®

##### 5.1 Iconså›¾æ ‡

```
body:Center(
child: Icon(                      // Icons å†…ç½®å…¨å¥— material å›¾æ ‡
   Icons.local_airport,
   color: Colors.lightBlue,       //è®¾è®¡å›¾æ ‡çš„é¢œè‰²
   size: 50.0,                    //è®¾è®¡å¤§å°
 ),//åŠ å…¥å°å›¾æ ‡çš„
 )
```

![image-20231104222433503](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104222433503.png)



å½“æˆ‘ä»¬è¾“å…¥Icons.å°±ä¼šå‡ºç°ï¼Œå„ç§å„æ ·çš„é€‰æ‹©ï¼Œå®ƒçš„å³è¾¹ä¼šæœ‰ç›¸åº”çš„å›¾æ ‡æ ·å¼ï¼Œå¯ä»¥æ‰¾åˆ°å¯¹åº”æƒ³è¦æ˜¯è®¾è®¡çš„æ ·å¼ã€‚

![image-20231104222142581](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104222142581.png)



##### 5.2ButtonsæŒ‰é’®

###### 5.2.1å•çº¯çš„æ–‡å­—æŒ‰é’®

æŒ‰é’®å°±æ˜¯å¯ä»¥ç‚¹å‡»ï¼Œç‚¹å‡»ä¹‹åä¼šreturnçš„ï¼Œè¿™ä¸ªéƒ¨åˆ†æ˜¯éœ€è¦è¿æ¥åç«¯çš„

```
child: TextButton(
  onPressed: () {
    print('you clicked me');//è¿™ä¸ªonPressedæ˜¯ç®¡ç†è¿”å›çš„ï¼Œå°±æ˜¯ç‚¹å‡»ä¹‹åï¼Œä¼šå‘æ§åˆ¶å°è¿”å›ä»€ä¹ˆä¸€æ ·ã€‚
  },
  child: Text('click me'),//è¿™ä¸ªæ˜¯Buttoné‡Œé¢å†åµŒå¥—ä¸€ä¸ªchildï¼Œå®ç°è®¾è®¡æŒ‰é’®çš„å­éƒ¨ä»¶   
  // color: Colors.lightBlue,        // éƒ¨åˆ†å‚æ•°è¢«å¼ƒç”¨äº†ï¼Œæ¯”å¦‚ color
  style: ElevatedButton.styleFrom( primary: Colors.lightBlue), // è®¾ç½®æŒ‰é’®çš„èƒŒæ™¯è‰²
),
//1ã€ElevatedButtonæ˜¯å‡¸èµ·æŒ‰é’®ï¼Œåƒæµ®åœ¨é¢æ¿ä¸Šï¼Œæœ‰é˜´å½±å’Œ3Dæ•ˆæœ
//2ã€TextButtonæ˜¯å¹³é¢æŒ‰é’®
//3ã€OutlinedButton

// FlatButton, RaisedButton, and OutlineButton è¿™ä¸‰ä¸ª widget å·²ç»æœ‰äº†æ–°çš„æ§ä»¶æ›¿ä»£ï¼Œåˆ†åˆ«æ˜¯TextButton, ElevatedButton, and OutlinedButton
```

![image-20231104223730232](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104223730232.png)

###### 5.2.2å¸¦æœ‰å›¾æ ‡çš„æŒ‰é’®

```
child: ElevatedButton.icon(
  onPressed: () {
    print('you clicked me');//è¿™ä¸ªæ˜¯ç‚¹å‡»æŒ‰é’®åçš„è¿”å›
  },
  icon: Icon(
    Icons.mail
  ),//Iconsè®¾è®¡å›¾æ ‡
  label: Text('mail me'),//åœ¨å›¾æ ‡éš”å£å†è®¾è®¡ä¸€ä¸ªæ–‡æœ¬
  style: ElevatedButton.styleFrom( primary: Colors.amber),//è®¾è®¡é¢œè‰²
)
```

![image-20231104224038951](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104224038951.png)

5.2.3 å›¾æ ‡æŒ‰é’®ï¼Œä½†ä¸å¸¦è¾¹æ¡†

```
child: IconButton(
  onPressed: () {
    print('you clicked me');
  },
  icon: Icon(Icons.alternate_email),//è¿™ä¸ªå±•ç¤ºï¼Œ@ç¬¦å·
  color: Colors.amber,
),
```

![image-20231104224240396](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104224240396.png)







### å››ã€å¸ƒå±€

#### 1ã€Containerså®¹å™¨å’ŒPaddingå¡«å……

```
body: Container(    //containeræ˜¯å®¹å™¨
  //å¡«å……
  //padding:EdgeInsets.all(20.0)ï¼Œ //å¦‚æœæ˜¯allå°±æ˜¯åœ¨æ•´ä¸ªå¡«å……ï¼Œ
  padding:EdgeInsets.fromLTRB(10.0,20.0,30.0,40.0),//leftï¼Œtop,right,bottom
  margin:EdgeInsets.all(30.0),
  //Paddingæ˜¯å®ç°å¡«å……ä¸œè¥¿
  //è€Œmarginæ˜¯å®ç°è®©å®¹å™¨å’Œå‘¨å›´ä¿æŒè·ç¦»
  color:Colors.grey[400],//å¦‚æœæ˜¯ä»…ä»…åªæœ‰è¿™å¥è¯ï¼Œé‚£ä¹ˆç°è‰²ä¼šè¦†ç›–æ•´ä¸ªé¡µé¢ï¼ŒåŠ ä¸Šäº†å­éƒ¨ä»¶ï¼Œä¹‹åï¼Œå®¹å™¨å°±ä¹‹åè¦†ç›–å­å®¹å™¨çš„å¤§å°ï¼Œä½†è¿™æ ·å¾€å¾€åˆä¸å¥½ï¼Œæ‰€ä»¥å°±æœ‰äº†paddingå¡«å……
  child:Text('hello'),
),
```

![image-20231104225927085](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104225927085.png)

![image-20231104225328829](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104225328829.png)

1ã€symmetricå°±æ˜¯ä¸­å¿ƒå¯¹ç§°å¼ï¼Œå¦‚æœä½ éœ€è¦çš„ä¸Šä¸‹å·¦å³å¯¹ç§°çš„å°±å¯ä»¥é€‰æ‹©è¿™ä¸ª

2ã€fromLTRBæ˜¯å¯ä»¥è‡ªå®šä¹‰å››ä¸ªæ–¹å‘çš„å¡«å……çš„å¤§å°

3ã€allå°±æ˜¯å››ä¸ªæ–¹å‘éƒ½é‡‡ç”¨åŒä¸€ä¸ªå€¼çš„å¡«å……





åœ¨å°éƒ¨ä»¶çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨paddingæ¥è®¾ç½®ç›¸åº”çš„ä½ç½®ä¿¡æ¯çš„

```
body:Padding(
  padding:EdgeInsets.all(90.0),
  child:Text('hello'),
),
```

![image-20231104230125223](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231104230125223.png)



#### 2ã€Rowè¡Œ

##### 2.1è¡Œå±æ€§

è¡Œæœ¬æ¥å°±æ˜¯ä¸€ä¸ªå°éƒ¨ä»¶ï¼Œå®ç°åœ¨ä¸€è¡Œä¸­è¿ç»­æ”¾ç½®å°éƒ¨ä»¶

```
body:Row(//åœ¨è¡Œä¸Šè¿ç»­æ”¾ç½®å°éƒ¨ä»¶
  children:<Widget>[//<Widget>[] ç›¸å½“äº Liståˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨ä¸­åº”åŒ…å«ä¸€äº› Widget å…ƒç´ ï¼Œå®ç°åœ¨ Row ä¸­æ’åˆ—ã€‚
    Text('hello world'),
    TextButton(
      onPressed:(){},
      child:Text('click me')
    ),
    Container(
      color:Colors.cyan,
      padding:EdgeInsets.all(30.0),
      child: Text('inside container')
    )
  ],
),
```

![image-20231105092446972](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105092446972.png)



##### 2.2è¡Œå¸ƒå±€

 æ‘˜è¦åœ¨è¿™ä¸ª Flutter åˆå­¦è€…æ•™ç¨‹çš„ç¬¬11é›†ä¸­ï¼Œæˆ‘ä»¬å­¦åˆ°äº†å¦‚ä½•ä½¿ç”¨è¡Œï¼ˆRowsï¼‰æ¥æ‰©å±•æˆ‘ä»¬åº”ç”¨çš„å¸ƒå±€ï¼Œä½¿å¾—é¡µé¢ä¸Šå¯ä»¥å®¹çº³å¤šä¸ªä¸åŒçš„å°éƒ¨ä»¶ã€‚é€šè¿‡ä½¿ç”¨è¡Œå’Œåˆ—çš„ç»„åˆï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´çµæ´»åœ°æ’åˆ—é¡µé¢ä¸Šçš„å°éƒ¨ä»¶ã€‚

 äº®ç‚¹

ğŸ“‹ æˆ‘ä»¬å­¦åˆ°äº†å¦‚ä½•ä½¿ç”¨è¡Œï¼ˆRowsï¼‰æ¥å®¹çº³å¤šä¸ªå°éƒ¨ä»¶ï¼Œé€šè¿‡ `children` å±æ€§å¯ä»¥å°†å¤šä¸ªå°éƒ¨ä»¶ç»„ç»‡åœ¨ä¸€èµ·ã€‚

 ğŸš€ é€šè¿‡æ·»åŠ æ–‡æœ¬å°éƒ¨ä»¶ã€æŒ‰é’®å°éƒ¨ä»¶å’Œå®¹å™¨å°éƒ¨ä»¶ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•åœ¨è¡Œå†…åŒ…å«ä¸åŒç±»å‹çš„å°éƒ¨ä»¶ã€‚

ğŸ”„ ä½¿ç”¨ `mainAxisAlignment` å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸»è½´ä¸Šæ§åˆ¶å°éƒ¨ä»¶çš„å¯¹é½æ–¹å¼ï¼Œä¾‹å¦‚å±…ä¸­ã€èµ·å§‹ã€ç»“æŸæˆ–å‡åŒ€åˆ†å¸ƒ

 â†•ï¸ é€šè¿‡ `crossAxisAlignment` å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶å°éƒ¨ä»¶åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼ï¼Œä¾‹å¦‚æ‹‰ä¼¸ã€å±…ä¸­æˆ–æ”¾ç½®åœ¨å¼€å§‹æˆ–ç»“æŸä½ç½®ã€‚

ğŸŒ æˆ‘ä»¬æ¯”è¾ƒäº†ä¸»è½´å’Œäº¤å‰è½´çš„æ¦‚å¿µï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ä¸åŒçš„å±æ€§å€¼æ¥è°ƒæ•´å°éƒ¨ä»¶åœ¨è¡Œå†…çš„å¸ƒå±€ã€‚

ğŸ“ æˆ‘ä»¬æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨è¡Œå’Œåˆ—ï¼Œè¿™æ˜¯ä¸€ç§åœ¨ Flutter ä¸­çµæ´»å¸ƒå±€çš„æ–¹å¼ï¼Œç±»ä¼¼äºåœ¨Webä¸­ä½¿ç”¨CSS

å®ç°ä½ç½®å¸ƒå±€çš„è°ƒæ•´ã€‚

![image-20231105092621107](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105092621107.png)

###### 2.2.1 mainAxisAlignmentå®ç°åœ¨ä¸»è½´ï¼ˆmain axisï¼‰çš„å¸ƒå±€

```
mainAxisAlignmentï¼šMainAxisAlignment.     //æ§åˆ¶ä¸»è½´å¯¹é½main axiså¸ƒå±€å±æ€§
```

![image-20231105092708392](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105092708392.png)

æ ¹æ®å…¶ä¸­çš„è‹±æ–‡å¯ä»¥å¾—åˆ°ç›¸å¯¹åº”çš„å¸ƒå±€ä¿¡æ¯ã€‚

1)ã€centerå°±æ˜¯å°éƒ¨ä»¶èšåœ¨ä¸­é—´ï¼Œå·¦å³é—´éš”ä¸€è‡´

![image-20231105093216077](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105093216077.png)

2)ã€spaceBetweenå°éƒ¨ä»¶ä¹‹é—´ä¿æŒè·ç¦»ï¼Œå·¦å³å°éƒ¨ä»¶æ˜¯ç´§é è¾¹ç¼˜çš„

![image-20231105093251250](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105093251250.png)

3)ã€spaceEvenlyå°éƒ¨ä»¶è·ç¦»å‡åŒ€åˆ†å¸ƒï¼Œ

![image-20231105093416822](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105093416822.png)

4)ã€endå…¨éƒ¨ç´§é å³è¾¹

![image-20231105093457342](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105093457342.png)

5)ã€startå…¨éƒ¨ç´§é å·¦è¾¹

6)ã€spaceAroundå®ç°å·¦å³éƒ½æœ‰ç©ºé—´ï¼Œè€Œä¸”éƒ¨ä»¶ä¹‹é—´ä¹Ÿæœ‰ç©ºé—´ã€‚å°éƒ¨ä»¶ä¹‹é—´çš„è·ç¦»æ˜¯è¾¹ç¼˜çš„ä¸¤å€ã€‚

![image-20231105093706395](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105093706395.png)





###### 2.2.2 crossAxisAlignmentå®ç°åœ¨äº¤å‰è½´ä¸Šçš„å¸ƒå±€

```
crossAxisAlignment: CrossAxisAlignment.    //å®ç°åœ¨äº¤å‰è½´ä¸Šçš„å¸ƒå±€
```

![image-20231105095256001](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105095256001.png)

1ï¼‰ã€stretchæ‹‰ä¼¸åˆ°å…¨éƒ¨å¯ç”¨ç©ºé—´çš„æ•´ä¸ªé«˜åº¦ã€‚

![image-20231105095345839](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105095345839.png)

2)ã€centerä¸­å¿ƒï¼Œå°±æ˜¯é»˜è®¤å€¼

![image-20231105095442443](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105095442443.png)

3)ã€startï¼Œæœ‰ç‚¹åƒä¸ªé˜¶æ¢¯å¼çš„å¸ƒå±€

![image-20231105095542108](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105095542108.png)

4)ã€endï¼Œå¦ä¸€ä¸ªæ–¹å‘çš„é˜¶æ¢¯

![image-20231105095644448](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105095644448.png)



#### 3ã€Columnsåˆ—

 æ‘˜è¦åœ¨è¿™ä¸ªè§†é¢‘ä¸­ï¼Œä½œè€…å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Flutterä¸­çš„åˆ—ï¼ˆColumnsï¼‰æ¥å‚ç›´å †å ä¸åŒçš„å°éƒ¨ä»¶ï¼Œä¸ä¹‹å‰çš„æ°´å¹³æ’åˆ—ç›¸åã€‚é€šè¿‡æ¼”ç¤ºä½¿ç”¨åˆ—ï¼ˆColumnsï¼‰çš„åŸºæœ¬è¯­æ³•ï¼Œä»¥åŠå¦‚ä½•åœ¨åˆ—ä¸­ä½¿ç”¨ä¸»è½´å¯¹é½å’Œäº¤å‰è½´å¯¹é½æ¥æ§åˆ¶å°éƒ¨ä»¶çš„å¸ƒå±€ã€‚

 äº®ç‚¹

ğŸ“‹ å±•ç¤ºå¦‚ä½•ä½¿ç”¨Flutterçš„åˆ—ï¼ˆColumnsï¼‰å°éƒ¨ä»¶å‚ç›´æ’åˆ—å…¶ä»–å°éƒ¨ä»¶ã€‚

ğŸŒˆ åˆ›å»ºäº†ä¸‰ä¸ªä¸åŒé¢œè‰²å’Œå¤§å°çš„å®¹å™¨ï¼Œæ¼”ç¤ºäº†åˆ—ä¸­çš„å°éƒ¨ä»¶å †å æ•ˆæœ

 ğŸ”„ ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ä¸»è½´å¯¹é½ï¼ˆmain axis alignmentï¼‰æ¥æ§åˆ¶åˆ—ä¸­å°éƒ¨ä»¶çš„å‚ç›´å¯¹é½æ–¹å¼ã€‚

â†” æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨äº¤å‰è½´å¯¹é½ï¼ˆcross axis alignmentï¼‰æ¥æ§åˆ¶åˆ—ä¸­å°éƒ¨ä»¶çš„æ°´å¹³å¯¹é½æ–¹å¼ã€‚

 â• å±•ç¤ºäº†å¦‚ä½•åœ¨åˆ—ä¸­åµŒå¥—è¡Œï¼ˆRowï¼‰ä»¥åˆ›å»ºæ›´å¤æ‚çš„å¸ƒå±€ã€‚

ğŸ›  æç¤ºé€šè¿‡è°ƒæ•´ä¸åŒçš„å¯¹é½æ–¹å¼å’Œå¸ƒå±€ï¼Œå¯ä»¥çµæ´»åœ°åˆ›å»ºå„ç§ç•Œé¢ã€‚

ğŸ”„ é¼“åŠ±è§‚ä¼—åœ¨å®è·µä¸­å°è¯•ä¸åŒçš„å¸ƒå±€å’Œå¯¹é½æ–¹å¼ï¼Œä»¥åŠ æ·±å¯¹Flutterä¸­åˆ—å’Œè¡Œçš„ç†è§£ã€‚



å’Œrowçš„å†™æ³•æ ¼å¼å·®ä¸å¤šï¼Œå°±æ˜¯å½¢å¼ä¸Šç”±è¡Œå˜æˆäº†åˆ—ã€‚mainAxisAlignmentå’ŒcrossAxisAlignmentçš„ä½¿ç”¨æ–¹å¼å’Œæ•ˆæœå’Œrowçš„ä¸€æ ·ã€‚

```
//Columnè¡Œéƒ¨ä»¶
body: Column(
  mainAxisAlignment: MainAxisAlignment.end,
  crossAxisAlignment: CrossAxisAlignment.end,
  children: <Widget>[
    Container(
      padding: EdgeInsets.all(20.0), // è®¾ç½®å®¹å™¨å†…è¾¹è·ä¸º30.0åƒç´ 
      color: Colors.cyan, // è®¾ç½®å®¹å™¨çš„èƒŒæ™¯é¢œè‰²ä¸ºç²‰çº¢è‰²
      child: Text('one'), // åœ¨å®¹å™¨å†…æ”¾ç½®ä¸€ä¸ªæ–‡æœ¬æ§ä»¶ï¼Œæ˜¾ç¤ºæ–‡æœ¬â€œtwoâ€
    ),
    Container(
      padding: EdgeInsets.all(30.0), // è®¾ç½®å®¹å™¨å†…è¾¹è·ä¸º30.0åƒç´ 
      color: Colors.pinkAccent, // è®¾ç½®å®¹å™¨çš„èƒŒæ™¯é¢œè‰²ä¸ºç²‰çº¢è‰²
      child: Text('two'), // åœ¨å®¹å™¨å†…æ”¾ç½®ä¸€ä¸ªæ–‡æœ¬æ§ä»¶ï¼Œæ˜¾ç¤ºæ–‡æœ¬â€œtwoâ€
    ),
    Container(
      padding: EdgeInsets.all(40.0), // è®¾ç½®å®¹å™¨å†…è¾¹è·ä¸º40.0åƒç´ 
      color: Colors.amber, // è®¾ç½®å®¹å™¨çš„èƒŒæ™¯é¢œè‰²ä¸ºç¥ç€è‰²
      child: Text('three'), // åœ¨å®¹å™¨å†…æ”¾ç½®ä¸€ä¸ªæ–‡æœ¬æ§ä»¶ï¼Œæ˜¾ç¤ºæ–‡æœ¬â€œthreeâ€
    ),
  ],
),
```

![image-20231105100731963](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105100731963.png)





ä½¿ç”¨crossAxisAlignment: CrossAxisAlignment.endã€crossAxisAlignment: CrossAxisAlignment. stretchå¯ä»¥å®ç°å¯¹åº•éƒ¨çš„è®¾è®¡ã€‚



![image-20231105100921058](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105100921058.png)



#### 4ã€shortcutså¿«æ·æ–¹å¼&Flutter outline



###### 4.1shortcutså¿«æ·æ–¹å¼

    //å¿«æ·æ–¹å¼ï¼ŒæŠŠé¼ æ ‡æ‚¬æµ®åœ¨å°éƒ¨ä»¶åå­—ä¸Šï¼Œç‚¹å‡»å·¦è¾¹çš„å°ç¯æ³¡ï¼Œå¯ä»¥é€‰æ‹©ä¸€äº›è½¬æ¢æ–¹å¼
    //è¿˜æœ‰å°±æ˜¯æœ€å³è¾¹çš„outlineï¼Œå¿«æ·æ–¹å¼

![image-20231105101202830](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105101202830.png)

1ï¼‰ã€add paddingæ·»åŠ å¡«å……

2ï¼‰ã€move widget downç§»åŠ¨è¿™ä¸ªéƒ¨ä»¶å‘ä¸‹

3ï¼‰wrap withâ€¦â€¦è¡¨ç¤ºå˜æ¢æˆå…¶ä»–çš„éƒ¨ä»¶

â€¦â€¦

###### 4.2Flutter outlineè¿™ä¸ªæœ‰ç‚¹åƒæ˜¯ç›®å½•çš„ï¼Œå±•ç¤ºéƒ¨ä»¶å’Œå­å±æ€§çš„å¸ƒå±€

![image-20231105102041839](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105102041839.png)



#### 5ã€Expanded Widgetsæ‰©å±•å°éƒ¨ä»¶ï¼ˆå®ç°æ‰©å±•æ‰€æœ‰ç©ºç™½çš„åœ°æ–¹ï¼Œä¸ç•™ç©ºç™½ï¼Œå’ŒCSSçš„flexboså¾ˆåƒï¼‰

æ‘˜è¦åœ¨è¿™ä¸ªFlutteråˆå­¦è€…æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†æ‰©å±•å°éƒ¨ä»¶ï¼ˆExpanded Widgetsï¼‰ï¼Œè¿™æ˜¯ä¸€ç§ç”¨äºå¸ƒå±€å±å¹•å†…å®¹çš„æ–¹æ³•ã€‚ä¸Webå¼€å‘ä¸­çš„Flexboxç›¸ä¼¼ï¼Œæ‰©å±•å°éƒ¨ä»¶å…è®¸æˆ‘ä»¬åœ¨è¡Œä¸­çš„å¤šä¸ªå®¹å™¨ä¹‹é—´å¹³å‡åˆ†é…å¯ç”¨ç©ºé—´ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜äº†è§£äº†å¦‚ä½•ä½¿ç”¨`flex`å±æ€§æ¥æ§åˆ¶æ¯ä¸ªæ‰©å±•å°éƒ¨ä»¶æ‰€å çš„å®½åº¦æ¯”ä¾‹ã€‚

äº®ç‚¹

ğŸ“¦ **å®¹å™¨å’Œè¡Œåˆ—ï¼š** å·²ç»å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨å®¹å™¨ã€è¡Œå’Œåˆ—æ¥å¸ƒå±€å±å¹•ä¸Šçš„å†…å®¹ã€‚

ğŸŒ **çµæ´»å¸ƒå±€ï¼š** æ‰©å±•å°éƒ¨ä»¶çš„ä½¿ç”¨æ–¹å¼ç±»ä¼¼äºWebå¼€å‘ä¸­çš„Flexboxï¼Œèƒ½å¤Ÿçµæ´»åœ°åˆ†é…å¯ç”¨ç©ºé—´ã€‚

ğŸ“ **`flex`å±æ€§ï¼š** é€šè¿‡ä¸ºæ‰©å±•å°éƒ¨ä»¶æ·»åŠ `flex`å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç²¾ç¡®æ§åˆ¶å®ƒä»¬åœ¨è¡Œä¸­æ‰€å çš„å®½åº¦æ¯”ä¾‹ã€‚

 ğŸŒˆ **å¤šä¸ªå®¹å™¨ï¼š** æ¼”ç¤ºäº†å¦‚ä½•å°†å¤šä¸ªå®¹å™¨æ”¾ç½®åœ¨ä¸€è¡Œä¸­ï¼Œå¹¶ä½¿ç”¨æ‰©å±•å°éƒ¨ä»¶ä½¿å®ƒä»¬å¹³å‡åˆ†é…å®½åº¦ã€‚

ğŸ–¼ï¸ **åŒ…å«å›¾åƒï¼š** ä½¿ç”¨æ‰©å±•å°éƒ¨ä»¶å¯ä»¥æœ‰æ•ˆåœ°å°†å¤§å›¾åƒé™åˆ¶åœ¨å±å¹•èŒƒå›´å†…ï¼Œç¡®ä¿ä¸ä¼šè¶…å‡ºæˆ–é®æŒ¡å…¶ä»–å†…å®¹ã€‚ 

ğŸš€ **ç®€åŒ–å¸ƒå±€ï¼š** æ‰©å±•å°éƒ¨ä»¶ä¸ºç®€åŒ–å¸ƒå±€æä¾›äº†å¼ºå¤§çš„å·¥å…·ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤šä¸ªå­å…ƒç´ æ—¶ã€‚-

###### 5.1æ‰©å±•å°éƒ¨ä»¶

```
body:Row(
  children:<Widget>[
    Expanded(
    //flex:3,
      child: Container(
        padding:EdgeInsets.all(30.0),
        color:Colors.cyan,
        child:Text('1'),
      ),
    ),
    Expanded(
    //flex:2,
      child: Container(
        padding:EdgeInsets.all(30.0),
        color:Colors.pinkAccent,
        child:Text('2'),
      ),
    ),
    Expanded(
    //flex:1,
      child: Container(
        padding:EdgeInsets.all(30.0),
        color:Colors.amber,
        child:Text('3'),
      ),
    ),
  ],
),
//æŠŠcontainerå¥—åœ¨Expanded widgeté‡Œé¢ï¼Œå®ç°å°éƒ¨ä»¶æ‰©å±•
```

![image-20231105102907274](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105102907274.png)

ç„¶åï¼Œåœ¨æ¯ä¸€ä¸ªExpandedé‡Œé¢åŠ ä¸Šä¸€ä¸ªflex:æ•°å­— å®ç°å®šåˆ¶æ¯ä¸ªå°éƒ¨ä»¶çš„æ‰©å±•çš„å¤§å°,æ•°å­—é™¤ä»¥æ•°å­—ä¹‹å’Œå¾—å‡ºæ‰€å å¤šå°‘åˆ†ä¹‹å¤šå°‘ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„3+2+1ï¼Œç¬¬ä¸€ä¸ªå±•2åˆ†ä¹‹1.

```
Expanded(
  flex:3,
  â€¦â€¦
```

![image-20231105103133258](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105103133258.png)



###### 5.2å°†æ‰©å±•ç”¨åˆ°å›¾åƒä¸Š

```
body:Row(
  children:<Widget>[
    Image.asset('assets/å›¾ç‰‡1.jpeg'),
    //å› ä¸ºå¾€å¾€ç›´æ¥æ·»åŠ å›¾ç‰‡ä¼šå½±å“åˆ°å…¶ä»–çš„éƒ¨ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦é€šè¿‡expandedæ¥è°ƒæ•´å¤§å°
```

![image-20231105104229263](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105104229263.png)



ç»™å›¾ç‰‡åŠ å…¥æ‰©å±•

```
Expanded(
    child: Image.asset('assets/å›¾ç‰‡2.jpeg'),
  flex: 1,
),
```

![image-20231105104330418](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105104330418.png)









### äº”ã€å®æˆ˜ï¼Œå¼€å‘ä¸€ä¸ªCardåç‰‡

#### 1ã€é¦–å…ˆæ˜¯æ¡†æ¶çš„æ„å»º

```
import 'package:flutter/material.dart';

void main() =>runApp(MaterialApp(
  home: NinjaCard(),
));

//è¾“å…¥stlesså³å‡ºclass
class NinjaCard extends StatelessWidget {

  @override
  Widget build(BuildContext context) {
    return Scaffold(
    );
  }
}
//åŸºæœ¬æ¡†æ¶
```



#### 2ã€åº”ç”¨æ è®¾è®¡

```
appBar: AppBar(
  title: Text('Ninja ID Card'),
  centerTitle: true,//æŠŠé¢˜ç›®æ”¾åˆ°ä¸­é—´
  backgroundColor: Colors.grey[850],//è®¾ç½®åº”ç”¨æ é¢œè‰²
  elevation: 0.0,//æ§åˆ¶åº”ç”¨æ äºå±å¹•ä¸»ä½“çš„é˜´å½±éƒ¨åˆ†ï¼Œ0.0è®¾ç½®æˆæ²¡æœ‰é˜´å½±ï¼Œä½¿å±å¹•å¹³å¦
),
```

![image-20231105111628917](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105111628917.png)

#### 3ã€ä¸»ä½“éƒ¨åˆ†è®¾è®¡

##### 3.1ä¸»ä½“èƒŒæ™¯é¢œè‰²

```
return Scaffold(
  backgroundColor: Colors.grey[900],
```

![image-20231105112112764](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105112112764.png)

##### 3.2æ–‡å­—éƒ¨åˆ†

```
body: Padding(
  padding: EdgeInsets.fromLTRB(30.0, 40.0, 30.0, 0.0),
  child: Column(
    crossAxisAlignment: CrossAxisAlignment.start,
    children: <Widget>[
      Text(
          'NAME',
        style: TextStyle(
          color: Colors.grey,
          letterSpacing: 2.0,//è›‡é…’å­—ä¸å­—ä¹‹é—´é—´éš”çš„ï¼Œä¸¤ä¸ªåƒç´ 
        )
      ),
      //å› ä¸ºä¸¤ä¸ªå­—ç¦»çš„å¤ªè¿‘äº†ï¼Œæ‰€ä»¥è¦åˆ¶ä½œä¸€ä¸ªç©ºç›’å­æ¥åˆ†å¼€ä¸¤è€…
      SizedBox(height: 10.0),//ç©ºç›’å­
      Text(
          'HMark',
          style: TextStyle(
            color: Colors.amberAccent[200],
            letterSpacing: 2.0,//è›‡é…’å­—ä¸å­—ä¹‹é—´é—´éš”çš„ï¼Œä¸¤ä¸ªåƒç´ 
            fontSize: 28.0,//è®¾è®¡å­—ä½“å¤§å°
            fontWeight: FontWeight.bold,//è®¾è®¡å­—ä½“ç²—ç»†
          )
      ),
      SizedBox(height: 30.0),//ç©ºç›’å­
      
    ],
  ),
),
```

![image-20231105113334034](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105113334034.png)



##### 3.3å®ç°é‚®ç®±

```
//å®ç°é‚®ç®±æ ‡å¿—
Row(
  children: <Widget>[
    Icon(
      Icons.email,
      color:Colors.grey[400],
    ),
    SizedBox(width:10.0),//è®¾è®¡ä¸€ä¸ªå®½åº¦ä¸º10çš„ç©ºç›’å­
    Text(
      'HMark@theninja.com',
        style: TextStyle(
          color: Colors.grey[400],
          letterSpacing: 1.0,//è›‡é…’å­—ä¸å­—ä¹‹é—´é—´éš”çš„ï¼Œä¸¤ä¸ªåƒç´ 
          fontSize: 18.0,//è®¾è®¡å­—ä½“å¤§å°
        )
    )
  ],
)
```

![image-20231105114502671](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105114502671.png)



##### 3.4æ·»åŠ å¤´åƒ

```
//æ·»åŠ å›¾ç‰‡å¤´åƒ
CircleAvatar(//CircleAvataræ˜¯åœ†å½¢å›¾ç‰‡æ¡†
  backgroundImage:AssetImage('assets/å›¾ç‰‡2.jpeg') ,
  radius:40.0,//è®¾ç½®å›¾ç‰‡æ¡†å¤§å°
),
```

![image-20231105115439359](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105115439359.png)



æŠŠå¤´åƒæ”¾åˆ°ä¸­é—´ï¼Œå°±æŠŠå…¶æ”¾åˆ°centeré‡Œé¢

```
//æ·»åŠ å›¾ç‰‡å¤´åƒ
Center(
  child: CircleAvatar(//CircleAvataræ˜¯åœ†å½¢å›¾ç‰‡æ¡†
    backgroundImage:AssetImage('assets/å›¾ç‰‡2.jpeg') ,
    radius:40.0,//è®¾ç½®å›¾ç‰‡æ¡†å¤§å°
  ),
),
```

![image-20231105115544297](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105115544297.png)



##### 3.5åˆ†éš”å™¨å°éƒ¨ä»¶Divider

åœ¨å¤´åƒå’Œå…¶ä½™å†…å®¹ä¹‹é—´æ”¾ç½®æŸç§åˆ†éš”ç¬¦

```
//æ·»åŠ å›¾ç‰‡å¤´åƒ
Center(
  child: CircleAvatar(//CircleAvataræ˜¯åœ†å½¢å›¾ç‰‡æ¡†
    backgroundImage:AssetImage('assets/å›¾ç‰‡2.jpeg') ,
    radius:40.0,//è®¾ç½®å›¾ç‰‡æ¡†å¤§å°
  ),
),

Divider(
  height: 60.0,//éƒ¨ä»¶çš„å¤§å°é«˜åº¦
  color: Colors.grey[800],//éƒ¨ä»¶çš„é¢œè‰²
),
```

![image-20231105115936956](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105115936956.png)



##### 3.6æ‚¬æµ®æŒ‰é’®floatingActionButton

```
floatingActionButton: FloatingActionButton(
  // 'FloatingActionButton' æ˜¯ä¸€ä¸ªæ‚¬æµ®åœ¨å±å¹•ä¸Šæ–¹çš„æŒ‰é’®ï¼Œå¸¸ç”¨äºè®¾ç½®è¯„è®ºåŒº
  onPressed: () {},
  // æ²¡æœ‰'onPressed:() {},'å›è°ƒï¼Œ ä¼šæŠ¥é”™ï¼ˆç‚¸è£‚ï¼Œæ•™ç¨‹æ²¡åŠ æ€ä¹ˆä¸ä¼šæŠ¥é”™ï¼Ÿï¼Ÿï¼Ÿå‘äº†å¥½å¤šæ—¶é—´ï¼‰
  child: Text('click'),
  backgroundColor: Colors.red[600],
),
```



##### æ•´ä½“æ•ˆæœ

![image-20231105120725412](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231105120725412.png)





ä¸Šé¢å­¦çš„éƒ½æ˜¯æ— çŠ¶æ€å°ç»„ä»¶ï¼Œå®ƒä»¬æ˜¯ä¸åŒ…å«ä»»ä½•éšæ—¶é—´äºŒå‘ç”Ÿå˜åŒ–çš„æ•°æ®çŠ¶æ€ã€‚





### å…­ã€æœ‰çŠ¶æ€Stateå°éƒ¨ä»¶

æ‘˜è¦

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œä»‹ç»äº†Flutterä¸­çš„Stateful Widgetsçš„åŸºæœ¬æ¦‚å¿µå’Œç”¨æ³•ã€‚é€šè¿‡åˆ›å»ºä¸€ä¸ªç®€å•çš„Stateful Widgetï¼Œæ¼”ç¤ºäº†å¦‚ä½•åœ¨å…¶ä¸­å­˜å‚¨å’Œæ›´æ–°åŠ¨æ€æ•°æ®ï¼Œä»¥åŠä½¿ç”¨`setState`å‡½æ•°è§¦å‘UIçš„æ›´æ–°ã€‚åŒæ—¶ï¼Œå±•ç¤ºäº†å¦‚ä½•é€šè¿‡ç‚¹å‡»æŒ‰é’®æ”¹å˜åº”ç”¨ä¸­çš„æ•°æ®çŠ¶æ€ã€‚

 äº®ç‚¹

ğŸ§© **Stateless Widgetå’ŒStateful Widgetçš„åŒºåˆ«ï¼š** Stateless Widgetåœ¨åˆ›å»ºåä¸ä¼šæ”¹å˜ï¼Œè€ŒStateful Widgetå¯ä»¥éšæ—¶é—´å˜åŒ–æˆ–åŒ…å«åŠ¨æ€æ•°æ®ã€‚

ğŸ”„ **ä½¿ç”¨`setState`æ›´æ–°æ•°æ®çŠ¶æ€ï¼š** é€šè¿‡`setState`å‡½æ•°ï¼ŒæˆåŠŸå®ç°äº†åœ¨Stateful Widgetä¸­æ›´æ–°æ•°æ®çŠ¶æ€å¹¶åˆ·æ–°UIã€‚

â• **è½¬æ¢Stateless Widgetä¸ºStateful Widgetï¼š** æ¼”ç¤ºäº†å°†ä¸€ä¸ªStateless Widgetè½¬æ¢ä¸ºStateful Widgetçš„ç®€ä¾¿æ–¹æ³•ï¼Œä»¥æ”¯æŒåŠ¨æ€æ•°æ®ã€‚

ğŸ–±ï¸ **é€šè¿‡ç‚¹å‡»æŒ‰é’®æ”¹å˜æ•°æ®çŠ¶æ€ï¼š** æ·»åŠ äº†ä¸€ä¸ªFloating Action Buttonï¼Œç‚¹å‡»æŒ‰é’®åé€šè¿‡`setState`å‡½æ•°å¢åŠ äº†"Ninja Level"çš„å€¼

 ğŸ“‹ **åˆ›å»ºStateful Widgetçš„åŸºæœ¬ç»“æ„ï¼š** å±•ç¤ºäº†Stateful Widgetçš„åŸºæœ¬ç»“æ„ï¼ŒåŒ…æ‹¬Stateå¯¹è±¡å’Œbuildå‡½æ•°ï¼Œä»¥åŠå¦‚ä½•åœ¨å…¶ä¸­å®šä¹‰å’Œæ›´æ–°æ•°æ®ã€‚

è¾“å…¥stfulç‚¹å‡»ï¼Œç”Ÿæˆæ¨¡ç‰ˆã€‚

Testæ˜¯è¿™ä¸ªæ–°çš„çŠ¶æ€å°éƒ¨ä»¶çš„åç§°

```
class Test extends StatefulWidget {//statefulæ˜¯æœ‰çŠ¶æ€å°éƒ¨ä»¶ï¼Œè¿™ä¸ªæ˜¯çŠ¶æ€æœ¬èº«
  @override
  _TestState createState() => _TestState();//åˆ›å»ºäº†è¿™ä¹ˆä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›_TestState()ï¼Œå®ä¾‹åŒ–äº†ç¬¬äºŒç±»
}

class _TestState extends State<Test> {//è¿™ä¸ªæ˜¯çŠ¶æ€å¯¹è±¡

  int counter=1;//è®¡æ•°å™¨
  //å¯ä»¥è¾“å‡ºè¯¥è®¡æ•°å™¨ï¼Œå½“å®ƒå‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå°†é‡å»ºè¿™ä¸ªå°éƒ¨ä»¶æ ‘ï¼Œå¹¶ä¸”æ›´æ–°è®¡æ•°å™¨ï¼Œæ›´æ–°ä½ç½®

  @override
  Widget build(BuildContext context) {//åŒ…å«å¯¹è±¡å¹¶è¿”å›è¿™ä¸ªå°éƒ¨ä»¶æ ‘
    return const Placeholder();
  }
}
```



###### å°†æ— çŠ¶æ€ç»„ä»¶è½¬å˜æˆæœ‰çŠ¶æ€çš„æ–¹æ³•

1ã€é¦–å…ˆå…ˆæŠŠç±»æ”¹ä¸€ä¸‹ï¼Œç‚¹å‡»å°ç¯æ³¡ï¼Œé€‰æ‹©stateful

![image-20231108192105550](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231108192105550.png)

ä¸‹é¢çš„ç±»å°±ä¼šå‘ç”Ÿç›¸åº”çš„æ”¹å˜

![image-20231108193615238](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231108193615238.png)

2ã€ç„¶ååˆ›å»ºä¸€ä¸ªçŠ¶æ€æ•°æ® ï¼Œå¦‚ä¸Šå›¾çš„int ninjaLevel

3ã€åˆ›å»ºä¸€ä¸ªæŒ‰é’®ï¼Œå®ç°åŠ¨æ€ï¼Œåœ¨è¿™ä¸ªæŒ‰é’®çš„onPressedé‡Œé¢åŠ ä¸ŠsetState((){åœ¨è¿™é‡Œé¢æ”¾æ€ä¹ˆæ”¹å˜çŠ¶æ€æ•°æ®çš„é€»è¾‘å…³ç³»})

![image-20231108193726433](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231108193726433.png)

æ‰€ä»¥è¯´ï¼Œä¸Šé¢æœ€é‡è¦çš„å°±æ˜¯setStateè¿™ä¸ªçŠ¶æ€æ”¹å˜å‡½æ•°



#### 2ã€Lists of Dataåˆ—è¡¨æ•°æ®

```
List<String>quotes=[
  'Be yourself ;everyine else is already taken',
  'I have nothing to declare except my genius',
  'The trueh is rarely pure and never simple'
];
```

```
body:Column(
  children: quotes.map((quote)=>Text(quote)).toList(),
```



#### 3ã€å®šä¹‰ç±»ï¼Œä½¿ç”¨ç±»

åˆ›å»ºè‡ªå®šä¹‰ç±»æ¥å…³è”å¼•ç”¨å’Œä½œè€…ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨å‘½åå‚æ•°å’Œç±»æ„é€ å‡½æ•°ã€‚é€šè¿‡åˆ›å»ºè‡ªå®šä¹‰ç±»ï¼Œå¯ä»¥å°†å¼•ç”¨å’Œä½œè€…å±æ€§å…³è”åœ¨ä¸€èµ·ï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾åœ°è¾“å‡ºä¸åŒå¯¹è±¡çš„å±æ€§ã€‚åŒæ—¶ï¼Œè¿˜ä»‹ç»äº†å¦‚ä½•åœ¨æ–‡æœ¬å°éƒ¨ä»¶ä¸­è¾“å‡ºå¯¹è±¡çš„å±æ€§ã€‚

æ‘˜è¦

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œå­¦ä¹ å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰ç±»ä»¥å…³è”æ¯ä¸ªå¼•ç”¨ä¸å…¶ä½œè€…ï¼Œå¹¶ä½¿ç”¨å‘½åå‚æ•°æ¥åˆå§‹åŒ–å¯¹è±¡ã€‚è¿™å°†å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç»„ç»‡å’Œç®¡ç†æ•°æ®ã€‚

äº®ç‚¹

- ğŸ“ åˆ›å»ºè‡ªå®šä¹‰å¼•ç”¨ç±»ï¼ŒåŒ…æ‹¬å¼•ç”¨æ–‡æœ¬å’Œä½œè€…ã€‚
- ğŸ¤– ä½¿ç”¨å‘½åå‚æ•°åˆå§‹åŒ–å¯¹è±¡ï¼Œå…è®¸æ›´çµæ´»çš„å±æ€§é¡ºåºã€‚
- ğŸ“‹ é€šè¿‡å¼•ç”¨ç±»å±æ€§è¾“å‡ºå¼•ç”¨æ–‡æœ¬å’Œä½œè€…ã€‚



å…¶ä¸­åˆ›å»ºäº†ä¸€ä¸ªç±»æ–‡ä»¶quote.dartã€‚ç”¨æ¥å®šä¹‰ç±»

```
class Quote {
  String text;
  String author;

  Quote({required this.text, required this.author}); // ä½¿ç”¨ "required" æ¥ç¡®ä¿å‚æ•°ä¸ä¸º null
  //æ„é€ å‡½æ•°Quoteè¢«å®šä¹‰ä¸ºæ¥å—ä¸¤ä¸ªå¿…éœ€å‚æ•°ï¼štextå’Œauthorã€‚ä½¿ç”¨requiredå…³é”®å­—æ¥æ ‡è®°è¿™ä¸¤ä¸ªå‚æ•°ï¼Œè¿™æ„å‘³ç€åœ¨åˆ›å»ºQuoteå¯¹è±¡æ—¶ï¼Œä½ å¿…é¡»ä¸ºè¿™ä¸¤ä¸ªå‚æ•°æä¾›å€¼ï¼Œè€Œä¸èƒ½å°†å®ƒä»¬è®¾ç½®ä¸ºnullã€‚
}
//è®°ä½ç±»ä¸ŠåŸºæœ¬ä¸Šæ˜¯å¯¹è±¡ç±»å‹æˆ–æ•°æ®ç±»å‹çš„å®šä¹‰ï¼Œä»–å°†æè¿°æ•°æ®å­˜å‚¨çš„å‡½æ•°çš„å“ªäº›å±æ€§
//å› æ­¤ç±»æ˜¯æè¿°å’Œåˆ›å»ºå¯¹è±¡çš„ä¸€ç§æ–¹å¼
//Quote myquote=Quote(author:'oscar wilde',text:'this is the qite text');


//ç±»çš„ä½œç”¨
//å½“ä½ åˆ›å»ºä¸€ä¸ªæ–°çš„Quoteå¯¹è±¡æ—¶ï¼Œä½ å¯ä»¥ä¸ºtextå’Œauthorå±æ€§æä¾›ç›¸åº”çš„å€¼ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªå¯¹è±¡æ¥è¡¨ç¤ºå¼•ç”¨çš„ä¿¡æ¯ã€‚è¿™æœ‰åŠ©äºåœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ç»„ç»‡å’Œç®¡ç†å¼•ç”¨æ•°æ®ã€‚

```



#### 4ã€liståˆ—è¡¨çš„ä½¿ç”¨

 æ‘˜è¦æœ¬æ•™ç¨‹ä»‹ç»äº†Flutteråˆå­¦è€…æ•™ç¨‹çš„ç¬¬17éƒ¨åˆ†ï¼Œä¸»é¢˜æ˜¯å¦‚ä½•å¾ªç¯éå†æ•°æ®åˆ—è¡¨å¹¶åœ¨å°éƒ¨ä»¶ä¸­åŠ¨æ€è¾“å‡ºè¯¥æ•°æ®åˆ—è¡¨ã€‚æ•™ç¨‹åˆ›å»ºäº†ä¸€ä¸ªåä¸ºâ€œquotesâ€çš„æ–°é¡¹ç›®ï¼Œæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨StatefulWidgetæ¥å¤„ç†å…·æœ‰å˜åŒ–æ•°æ®çš„å°éƒ¨ä»¶ã€‚é€šè¿‡ä½¿ç”¨`map`å‡½æ•°ï¼Œæ•™ç¨‹å±•ç¤ºäº†å¦‚ä½•è½»æ¾åœ°å¾ªç¯éå†æ•°æ®åˆ—è¡¨å¹¶è¾“å‡ºç›¸åº”çš„å°éƒ¨ä»¶ã€‚

#äº®ç‚¹

ğŸ“± åˆ›å»ºåä¸ºâ€œquotesâ€çš„Flutteré¡¹ç›®ï¼Œç”¨äºå±•ç¤ºå¦‚ä½•å¤„ç†æ•°æ®åˆ—è¡¨ã€‚

ğŸ”„ ä½¿ç”¨StatefulWidgetå¤„ç†å…·æœ‰å˜åŒ–æ•°æ®çš„å°éƒ¨ä»¶ã€‚

ğŸ¨ ä½¿ç”¨Scaffoldå°éƒ¨ä»¶åˆ›å»ºåº”ç”¨ç¨‹åºçš„åŸºæœ¬ç»“æ„ï¼ŒåŒ…æ‹¬AppBarå’ŒBodyã€‚

ğŸ“‹ ä½¿ç”¨`map`å‡½æ•°å¾ªç¯éå†æ•°æ®åˆ—è¡¨ã€‚

ğŸ§‘â€ğŸ’» åˆ©ç”¨`map`å‡½æ•°å’ŒTextå°éƒ¨ä»¶åŠ¨æ€è¾“å‡ºæ¯ä¸ªåˆ—è¡¨é¡¹çš„æ–‡æœ¬

 ğŸ‰ å±•ç¤ºäº†é€šè¿‡`map`å‡½æ•°å°†æ•°æ®åˆ—è¡¨è½¬æ¢ä¸ºå°éƒ¨ä»¶åˆ—è¡¨çš„ç®€æ´æ–¹æ³•ã€‚

 ğŸš€ å¼ºè°ƒäº†çµæ´»æ€§ï¼Œä½¿å¾—åœ¨æœªæ¥å¤„ç†æ›´å¤šæ•°æ®é¡¹æ—¶æ›´å®¹æ˜“æ‰©å±•ã€‚



```
List<Quote> quotes = [
  Quote(author: 'HMark', text: 'Be yourself; everyone else is already taken'),
  Quote(author: 'HMark', text: 'Be yourself; everyone else is already taken'),
  Quote(author: 'HMark', text: 'Be yourself; everyone else is already taken'),
];
//åˆ›å»ºäº†ä¸€ä¸ªåä¸º quotes çš„åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«äº†ä¸‰ä¸ª Quote å¯¹è±¡ã€‚
//è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå¼•ç”¨çš„åˆ—è¡¨ï¼Œæ¯ä¸ªå¼•ç”¨éƒ½ç”± author å’Œ text ç»„æˆã€‚è¿™ä½¿å¾—ä½ å¯ä»¥åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­è½»æ¾ç®¡ç†å’Œæ˜¾ç¤ºè¿™äº›å¼•ç”¨ï¼Œä¾‹å¦‚åœ¨ç”¨æˆ·ç•Œé¢ä¸­æ˜¾ç¤ºå¼•ç”¨åˆ—è¡¨ã€‚è¿™æœ‰åŠ©äºç»„ç»‡å’Œå±•ç¤ºå¼•ç”¨æ•°æ®ã€‚
```

liståˆ—è¡¨å†…å®¹å±•ç¤º

```
children: 
quotes.map((quote) => Text('${quote.text} - ${quote.author}')).toList(),
//è¿™æ®µä»£ç æ˜¯åœ¨ä½¿ç”¨Flutteræ„å»ºç”¨æˆ·ç•Œé¢çš„éƒ¨åˆ†ï¼Œç‰¹åˆ«æ˜¯åœ¨QuoteListç±»ä¸­çš„buildæ–¹æ³•ä¸­ã€‚å®ƒæ˜¯ç”¨æ¥åˆ›å»ºä¸€ä¸ªåŒ…å«å¼•ç”¨æ–‡æœ¬å’Œä½œè€…çš„æ–‡æœ¬å°éƒ¨ä»¶åˆ—è¡¨ï¼Œå¹¶å°†è¿™äº›å°éƒ¨ä»¶æ·»åŠ åˆ°Columnå°éƒ¨ä»¶çš„childrenå±æ€§ä¸­ã€‚
å…·ä½“æ¥è¯´ï¼Œè¿™è¡Œä»£ç æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š
quotes.map((quote) => Text('${quote.text} - ${quote.author}'))ï¼šè¿™éƒ¨åˆ†ä½¿ç”¨mapå‡½æ•°å¯¹quotesåˆ—è¡¨ä¸­çš„æ¯ä¸ªQuoteå¯¹è±¡æ‰§è¡Œæ“ä½œã€‚å¯¹äºæ¯ä¸ªquoteå¯¹è±¡ï¼Œå®ƒåˆ›å»ºä¸€ä¸ªTextå°éƒ¨ä»¶ï¼Œæ–‡æœ¬å†…å®¹ä¸º${quote.text} - ${quote.author}ï¼Œè¿™é‡Œä½¿ç”¨${}æ¥å°†å¼•ç”¨çš„æ–‡æœ¬å’Œä½œè€…çš„å€¼æ’å…¥åˆ°æ–‡æœ¬å­—ç¬¦ä¸²ä¸­ã€‚

.toList()ï¼šmapå‡½æ•°è¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œä½†childrenå±æ€§éœ€è¦ä¸€ä¸ªList<Widget>ã€‚å› æ­¤ï¼Œ.toList()å°†mapçš„ç»“æœè½¬æ¢ä¸ºå°éƒ¨ä»¶åˆ—è¡¨ã€‚

æœ€ç»ˆï¼Œè¿™ä¸ªå°éƒ¨ä»¶åˆ—è¡¨ä½œä¸ºColumnå°éƒ¨ä»¶çš„childrenå±æ€§ï¼Œç”¨äºåœ¨ç”¨æˆ·ç•Œé¢ä¸­æ˜¾ç¤ºå¼•ç”¨çš„æ–‡æœ¬å’Œä½œè€…ã€‚æ¯ä¸ªå¼•ç”¨éƒ½ä¼šä»¥æ–‡æœ¬çš„å½¢å¼æ˜¾ç¤ºåœ¨Columnä¸­ï¼Œä¸€ä¸ªå¼•ç”¨å æ®ä¸€è¡Œã€‚
```



![image-20231110113349621](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231110113349621.png)



#### 5ã€è‡ªå®šä¹‰quoteç±»

æ‘˜è¦

åœ¨17èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰ç±»ä»¥å…³è”åè¨€ä¸ä½œè€…ï¼Œå¹¶ä½¿ç”¨å‘½åå‚æ•°å’Œç±»æ„é€ å‡½æ•°ã€‚è¿™æœ‰åŠ©äºå°†æ•°æ®æ›´æ¨¡å—åŒ–å’Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚

äº®ç‚¹ğŸ“ åˆ›å»ºè‡ªå®šä¹‰ç±» Quote ç”¨äºå­˜å‚¨åè¨€å’Œä½œè€…ä¿¡æ¯ã€‚

ğŸ”„ ä½¿ç”¨ç±»æ„é€ å‡½æ•°ï¼Œé€šè¿‡å‘½åå‚æ•°æŒ‡å®šå±æ€§å€¼ï¼Œæé«˜æ•°æ®è¾“å…¥çš„çµæ´»æ€§ã€‚

ğŸ–¼ï¸ è¾“å‡ºåè¨€å’Œä½œè€…ä¿¡æ¯ï¼Œå±•ç¤ºå¦‚ä½•è®¿é—®è‡ªå®šä¹‰ç±»çš„å±æ€§ã€‚æ³¨æ„ï¼šè¯·ç¡®ä¿åœ¨å®é™…ä½¿ç”¨ä¸­æ·»åŠ æ‰€éœ€çš„å¯¼å…¥è¯­å¥å’Œä»£ç ç»“æ„ã€‚



#### 6ã€Cardå¡ç‰‡

æ‘˜è¦

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œä½œè€…ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Flutteråˆ›å»ºå¡ç‰‡è§†å›¾æ¥æ˜¾ç¤ºå¼•ç”¨æ–‡æœ¬å’Œä½œè€…ä¿¡æ¯ã€‚ä»–é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºç”Ÿæˆæ¯ä¸ªå¼•ç”¨çš„å¡ç‰‡ï¼Œç„¶åä½¿ç”¨æ­¤å‡½æ•°åœ¨åˆ—è¡¨ä¸­ä¸ºæ¯ä¸ªå¼•ç”¨åˆ›å»ºå¡ç‰‡ã€‚ä½œè€…è¿˜è®¨è®ºäº†å¦‚ä½•æ·»åŠ å¡ç‰‡çš„å¤–è¾¹è·å’Œè®¾ç½®æ–‡æœ¬æ ·å¼ï¼Œä»¥ä½¿å¡ç‰‡çœ‹èµ·æ¥æ›´å¥½ã€‚

äº®ç‚¹

[ğŸ“] åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥ç”Ÿæˆå¼•ç”¨å¡ç‰‡ã€‚

[ğŸ“] æ·»åŠ å¡ç‰‡çš„å¤–è¾¹è·å’Œæ–‡æœ¬æ ·å¼ã€‚

[ğŸ”³] ä½¿ç”¨å¡ç‰‡è§†å›¾æ¥æ˜¾ç¤ºå¼•ç”¨æ–‡æœ¬å’Œä½œè€…ä¿¡æ¯ã€‚

[ğŸ‘©â€ğŸ’»] è®¨è®ºäº†æ›´æœ‰æ•ˆåœ°ç”Ÿæˆå¡ç‰‡çš„æ–¹æ³•ã€‚



ä¸Šæ–‡ä¸­çš„æŠŠä½œè€…å±æ€§è¿˜æœ‰å†…å®¹å±æ€§æ”¾åœ¨å•ä¸ªæ–‡æœ¬çš„å°éƒ¨ä»¶ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹ç²—ç³™

æ‰€ä»¥è¿™é‡Œå­¦ä¹ å¡ç‰‡æ›´å¥½çš„æ¨¡ç‰ˆã€‚

https://api.flutter.dev/flutter/material/Card-class.html

ä½¿ç”¨å¡ç‰Œå‘¢å°éƒ¨ä»¶è¿”å›æŸç§å¼•å·æ¨¡æ¿

åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œæœ‰ä¸€ä¸ªè¿”å›ç±»å‹ï¼Œä»–å°†æ˜¯ä¸€ä¸ªå°éƒ¨ä»¶ï¼Œç„¶åä¿å­˜å‡½æ•°åç§°ï¼Œè¯¥å‡½æ•°åç§°å°†æˆä¸ºå¼•ç”¨æ¨¡ç‰ˆï¼Œç„¶åæˆ‘ä»¬å°†æ¥å—å•ä¸ªå¼•å·ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šæˆ‘ä»¬å°†åœ¨æ˜ å°„æ­¤åˆ—è¡¨æ˜¯ä¸ºæ¯ä¸ªå¼•ç”¨è°ƒç”¨æ­¤å‡½æ•°ï¼ŒæŠŠå¼•å·ä¼ é€’åˆ°å‡½æ•°ä¸­ï¼Œæ ¹æ®å¼•å·è¿”å›ä¸€ä¸ªå°éƒ¨ä»¶æ ‘ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æ¨¡æ¿å†…è¾“å‡ºè¯¥å¼•å·çš„æ•°æ®ã€‚

ç„¶åéœ€è¦åœ¨è¿™é‡Œè¿”å›æˆ‘ä»¬çš„å†…å®¹ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯è¿”å›ä¸€ä¸ªå¡ç‰‡å°éƒ¨ä»¶ï¼Œä»¥æ­¤åˆ›å»ºä¸€å¼ å¡ç‰‡ï¼Œ

```
Widget quoteTemplate (quote)//è¿™æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜å®šä¹‰ï¼Œæ¥å—quoteçš„å‚æ•°
{
  return Card(//å‡½æ•°è¿”å›Cardå°éƒ¨ä»¶ï¼ŒCardæ˜¯ä¸€ä¸ªç”¨äºæ˜¾ç¤ºä¿¡æ¯çš„ææ–™è®¾è®¡å°éƒ¨ä»¶ï¼Œé€šå¸¸ç”¨äºåŒ…è£¹å…¶ä»–å°éƒ¨ä»¶ä»¥æä¾›ä¸€ä¸ªå¡ç‰‡æ•ˆæœ
    margin: EdgeInsets.fromLTRB(16.0, 16.0, 16.0, 0.0),//è®¾ç½®äº†å¡ç‰‡çš„å¤–è¾¹è·
    //margin:EdgeInsets.fromLTRB(left, top, right, bottom)å·¦é¡¶å³åº•
      child: Column(//è¡Œå­éƒ¨ä»¶ 
        children: <Widget>[
          Text(
            quote.text,
            style: TextStyle(
              fontSize: 18.0,
              color: Colors.grey[600],
            )
          ),
          
          SizedBox(height: 0.0),//ç©ºç™½ç›’å­
          //åˆ›å»ºä½œè€…æ˜¾ç¤ºæ¨¡å—
          Text(
              quote.author,
              style: TextStyle(
                fontSize: 14.0,
                color: Colors.grey[800],
              )
          ),
        ],
      ),
    )
  );
```

```
//ä¸Šé¢éƒ½æ˜¯åœ¨å®šä¹‰å‡½æ•°å’Œç±»ï¼Œä¸‹é¢åœ¨scaffoldä¸­ä½¿ç”¨
children: quotes.map((quote) => quoteTemplate(quote)).toList(),
```

![image-20231110190131423](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231110190131423.png)



![image-20231110190306041](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231110190306041.png)

![image-20231110191340489](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231110191340489.png)



ä¸Šé¢æˆ‘ä»¬å­¦ä¼šäº†å¦‚ä½•æ˜ å°„åˆ—è¡¨



#### 7ã€å¡æ¨¡æ¿åˆ›å»ºæ— çŠ¶æ€å°éƒ¨ä»¶ï¼ˆå¿«é€Ÿæ–¹æ³•ï¼‰

 æ‘˜è¦åœ¨è¿™ä¸ªFlutteråˆå­¦è€…æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦åˆ°äº†å¦‚ä½•æå–å°éƒ¨ä»¶ï¼ˆExtracting Widgetsï¼‰ä»¥æé«˜ä»£ç çš„æ¨¡å—æ€§å’Œå¯é‡ç”¨æ€§ã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬é€šè¿‡åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„æ— çŠ¶æ€å°éƒ¨ä»¶ï¼ˆstateless widgetï¼‰æ¥è¡¨ç¤ºå¡ç‰‡æ¨¡æ¿ï¼Œå°†å¡ç‰‡æ¨¡æ¿ä»åŸå§‹ä»£ç ä¸­æå–å‡ºæ¥ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ›´è½»æ¾åœ°åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­é‡å¤ä½¿ç”¨å®ƒã€‚

 äº®ç‚¹

 ğŸ”„ **æå–å°éƒ¨ä»¶ï¼ˆExtracting Widgetsï¼‰ï¼š** é€šè¿‡åˆ›å»ºè‡ªå®šä¹‰çš„æ— çŠ¶æ€å°éƒ¨ä»¶ï¼Œæˆ‘ä»¬æˆåŠŸåœ°å°†å¡ç‰‡æ¨¡æ¿ä»åŸå§‹ä»£ç ä¸­æå–å‡ºæ¥ï¼Œæé«˜äº†ä»£ç çš„æ¨¡å—æ€§å’Œå¯é‡ç”¨æ€§ã€‚

ğŸš€ **ä¼˜åŒ–ä»£ç ç»“æ„ï¼š** é€šè¿‡ä½¿ç”¨æå–å°éƒ¨ä»¶çš„æ–¹æ³•ï¼Œæˆ‘ä»¬é¿å…äº†åœ¨åŸå§‹å‡½æ•°ä¸­åˆ›å»ºå¡ç‰‡æ¨¡æ¿çš„éœ€è¦ï¼Œä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°å’Œé«˜æ•ˆã€‚

 ğŸ”„ **å‚æ•°ä¼ é€’ï¼š** é€šè¿‡åœ¨æ–°åˆ›å»ºçš„è‡ªå®šä¹‰å°éƒ¨ä»¶ä¸­æ·»åŠ æ„é€ å‡½æ•°å’Œå‚æ•°ä¼ é€’ï¼Œæˆ‘ä»¬æˆåŠŸåœ°å°†æ•°æ®ä¼ é€’ç»™å¡ç‰‡æ¨¡æ¿ï¼Œå¢åŠ äº†çµæ´»æ€§ã€‚

 ğŸ“„ **æ–‡ä»¶æ¨¡å—åŒ–ï¼š** å°†å¡ç‰‡æ¨¡æ¿çš„ä»£ç ç§»åŠ¨åˆ°ç‹¬ç«‹çš„æ–‡ä»¶ä¸­ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨å°†æ¥çš„é¡¹ç›®ä¸­è½»æ¾å¼•å…¥å’Œé‡å¤ä½¿ç”¨è¿™ä¸€æ¨¡å—åŒ–çš„ä»£ç ã€‚

ğŸ§© **ä»£ç é‡æ„ï¼š** é€šè¿‡åˆ é™¤å†—ä½™çš„å‡½æ•°è°ƒç”¨ï¼Œæˆ‘ä»¬ç®€åŒ–äº†ä»£ç ï¼Œç›´æ¥åœ¨æ˜ å°„å‡½æ•°å†…åˆ›å»ºå¹¶è¿”å›äº†å¡ç‰‡æ¨¡æ¿çš„æ–°å®ä¾‹ã€‚

ğŸ”„ **çƒ­é‡å¯ï¼š** åœ¨è¿›è¡Œæ¨¡å—åŒ–å’Œé‡æ„åï¼Œé€šè¿‡çƒ­é‡å¯éªŒè¯ä»£ç çš„æœ‰æ•ˆæ€§ï¼Œç¡®ä¿æ‰€æœ‰æ›´æ”¹éƒ½æœªå¼•å…¥é”™è¯¯ã€‚

ğŸ“¦ **å¯¼å…¥æ¨¡å—ï¼š** é€šè¿‡åœ¨ä¸»æ–‡ä»¶ä¸­å¯¼å…¥æ–°çš„æ¨¡å—æ–‡ä»¶ï¼Œæˆ‘ä»¬æˆåŠŸåœ°å°†è‡ªå®šä¹‰å°éƒ¨ä»¶å¼•å…¥é¡¹ç›®ï¼Œå®ç°äº†ä»£ç çš„æ›´å¥½ç»„ç»‡å’Œå¯ç»´æŠ¤æ€§ã€‚

åˆ›å»ºå¤–éƒ¨æ¨¡ç‰ˆï¼Œä½¿å¾—ç¨‹åºæ›´æ¨¡å¼åŒ–

![image-20231110193252556](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231110193252556.png)

å°è£…æˆæ–°çš„å‡½æ•°æ–‡ä»¶

![image-20231110195126743](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231110195126743.png)

```
children: quotes.map((quote) => quoteCard(quote: quote)).toList(),
//è°ƒç”¨çš„æ–¹å¼ä¹Ÿæ”¹å˜äº†
```

```
import 'package:flutter/material.dart';
import 'quote.dart';

class quoteCard extends StatelessWidget {

  final Quote quote;

  quoteCard({ required this.quote });//// ä½¿ç”¨ required ä¿®é¥°ç¬¦ï¼Œè¡¨æ˜ quote å‚æ•°ä¸ºéç©ºä¸”å¿…é¡»æä¾›

  @override
  Widget build(BuildContext context) {
    return Card(
        margin: EdgeInsets.fromLTRB(16.0, 16.0, 16.0, 0.0),
        child: Padding(
          padding: const EdgeInsets.all(12.0),//æ·»åŠ å¡«å……æ›´å¥½çœ‹
          child: Column(
            crossAxisAlignment: CrossAxisAlignment.stretch,
            children: <Widget>[
              Text(
                  quote.text,
                  style: TextStyle(
                    fontSize: 18.0,
                    color: Colors.grey[600],
                  )
              ),
              SizedBox(height: 0.0),//ç©ºç™½ç›’å­
              //åˆ›å»ºä½œè€…æ˜¾ç¤ºæ¨¡å—
              Text(
                  quote.author,
                  style: TextStyle(
                    fontSize: 14.0,
                    color: Colors.grey[800],
                  )
              ),
            ],
          ),
        )
    );
  }
}
```



#### 8ã€åŠ å…¥ä¸€ä¸ªåˆ é™¤ï¼Œå®ç°åŠ¨æ€åˆ é™¤éƒ¨ä»¶

 æ‘˜è¦åœ¨è¿™ä¸ª Flutter åˆå­¦è€…æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦åˆ°äº†å¦‚ä½•å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œä»¥å®ç°åˆ é™¤å¼•ç”¨åŠŸèƒ½ã€‚é€šè¿‡åœ¨å¼•ç”¨å¡ç‰‡ä¸­æ·»åŠ åˆ é™¤æŒ‰é’®ï¼Œå¹¶ä½¿ç”¨å‡½æ•°å‚æ•°æ¥è§¦å‘åˆ é™¤æ“ä½œï¼Œæˆ‘ä»¬æˆåŠŸåœ°æ›´æ–°äº†ç”¨æˆ·ç•Œé¢ã€‚

 äº®ç‚¹- ğŸ—‘ï¸ ä¸ºæ¯ä¸ªå¼•ç”¨å¡ç‰‡æ·»åŠ äº†åˆ é™¤æŒ‰é’®ã€‚

ğŸ“ ä½¿ç”¨å‡½æ•°å‚æ•°å®ç°äº†ç‚¹å‡»åˆ é™¤æŒ‰é’®ååˆ é™¤å¼•ç”¨çš„åŠŸèƒ½ã€‚

ğŸ§© é€šè¿‡ä¼ é€’åˆ é™¤å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè§£å†³äº†åœ¨æ— çŠ¶æ€å°éƒ¨ä»¶ä¸­æ— æ³•ç›´æ¥ä¿®æ”¹æ•°æ®çš„é—®é¢˜ã€‚

ğŸ¨ ä½¿ç”¨ Flutter çš„ `FlatButton` å’Œ `Icon` å°éƒ¨ä»¶æ¥åˆ›å»ºåˆ é™¤æŒ‰é’®ã€‚

ğŸ”„ åˆ©ç”¨ `setState` å‡½æ•°æ¥æ›´æ–°ç”¨æˆ·ç•Œé¢å¹¶åˆ é™¤å¼•ç”¨ã€‚

ğŸ› ï¸ é€šè¿‡åœ¨åˆ é™¤å‡½æ•°ä¸­è°ƒç”¨ `remove` æ–¹æ³•ï¼Œä»å¼•ç”¨åˆ—è¡¨ä¸­ç§»é™¤ç‰¹å®šå¼•ç”¨

 ğŸš€ æ¢è®¨äº†å¦‚ä½•å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’åˆ°å…¶ä»–å°éƒ¨ä»¶ï¼Œä¸ºæ„å»ºæ›´å¤æ‚çš„ Flutter åº”ç”¨é“ºå¹³äº†é“è·¯ã€‚

```
 ä¸»å‡½æ•°éœ€è¦æ”¹åœ°æ–¹ï¼Œåœ¨è¿™ä¸ªè®¾è®¡ä¸€ä¸ªdeleteå‡½æ•°ï¼Œå®ç°åˆ é™¤quotes.remove(quote);
 
 body: Column(
      children: quotes.map((quote) => quoteCard(
          quote: quote,
          delete:(){
            setState(() {
              quotes.remove(quote);
            });
          }
      )
      ).toList(),
)
```

```
åœ¨cardé‡Œé¢ï¼Œä¼ å…¥å‚æ•°

final Quote quote;
//final Function delete;
final VoidCallback delete;//å› ä¸ºdeleteæ²¡æœ‰è¿”å›ï¼Œæ‰€ä»¥ä½¿ç”¨viodcallbackï¼Œè€Œä¸ä½¿ç”¨function
quoteCard({ required this.quote,required this.delete });
// ä½¿ç”¨ required ä¿®é¥°ç¬¦ï¼Œè¡¨æ˜ quote å‚æ•°ä¸ºéç©ºä¸”å¿…é¡»æä¾›


//è¿™æ˜¯ quoteCard ç±»çš„æ„é€ å‡½æ•°ã€‚å®ƒæ¥å—ä¸¤ä¸ªå¿…éœ€çš„å‚æ•°ï¼Œåˆ†åˆ«æ˜¯ quote å’Œ deleteã€‚ä½¿ç”¨ required ä¿®é¥°ç¬¦è¡¨ç¤ºè¿™ä¸¤ä¸ªå‚æ•°æ˜¯å¿…éœ€çš„ï¼Œè°ƒç”¨è€…åœ¨åˆ›å»º quoteCard å¯¹è±¡æ—¶å¿…é¡»æä¾›è¿™ä¸¤ä¸ªå‚æ•°ã€‚
```

```
//cardå‡½æ•°åŠ ä¸Šåˆ é™¤å°éƒ¨ä»¶
SizedBox(height: 8.0),
TextButton.icon(
  onPressed:delete,
  label:Text("delete quote"),
  icon:Icon(Icons.delete),

)
```

![image-20231110202540255](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231110202540255.png)





### ä¸ƒã€å®æˆ˜ä¸–ç•Œæ—¶é—´å™¨

æ‘˜è¦åœ¨è¿™ä¸ªFlutteråˆå­¦è€…æ•™ç¨‹çš„ç¬¬22é›†ä¸­ï¼Œæˆ‘ä»¬å¼€å§‹æ„å»ºä¸€ä¸ªåä¸ºWorld Timeçš„åº”ç”¨ç¨‹åºã€‚æ•™ç¨‹ç€é‡ä»‹ç»äº†å¦‚ä½•åˆ›å»ºFlutteråº”ç”¨ç¨‹åºå¹¶ç»„ç»‡ä¸åŒå±å¹•çš„åŸºæœ¬æ¡†æ¶ã€‚

äº®ç‚¹

ğŸš€ **åˆ›å»ºWorld Timeåº”ç”¨ç¨‹åºï¼š** å¼€å§‹å¤§å‹é¡¹ç›®World Timeåº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºåŒ…å«ä¸‰ä¸ªå±å¹•ï¼šä¸»å±å¹•ï¼ˆæ˜¾ç¤ºæ—¶é—´ï¼‰ã€åŠ è½½å±å¹•ï¼ˆåˆå§‹åŒ–åŠ è½½æ—¶æ˜¾ç¤ºçš„å±å¹•ï¼‰å’Œé€‰æ‹©ä½ç½®å±å¹•ï¼ˆå…è®¸ç”¨æˆ·é€‰æ‹©ä¸åŒä½ç½®æŸ¥çœ‹æ—¶é—´ï¼‰ã€‚

ğŸ—‚ï¸ **ç»„ç»‡ä»£ç ï¼š** é€šè¿‡åˆ›å»ºä¸åŒçš„é¡µé¢æ–‡ä»¶å¤¹ï¼ˆpagesï¼‰å¹¶åœ¨å…¶ä¸­æ·»åŠ å¯¹åº”çš„Dartæ–‡ä»¶ï¼Œæ•™ç¨‹å¼ºè°ƒäº†å¦‚ä½•æ›´å¥½åœ°ç»„ç»‡Flutterä»£ç ã€‚

ğŸ“ **åˆ é™¤æµ‹è¯•ï¼š** åˆ é™¤æµ‹è¯•æ–‡ä»¶å¤¹ï¼Œä½œè€…æåˆ°ç›®å‰åº”ç”¨ç¨‹åºç›¸å¯¹ç®€å•ï¼Œæµ‹è¯•ä¸åœ¨æœ¬æ•™ç¨‹èŒƒå›´å†…ï¼Œå› æ­¤åˆ é™¤æµ‹è¯•æ–‡ä»¶å¤¹ã€‚

ğŸ“² **å¯¼èˆªå’Œè·¯ç”±ï¼š** å¼•å…¥åŸºæœ¬çš„å¯¼èˆªå’Œè·¯ç”±æ¦‚å¿µï¼Œä¸ºå°†æ¥åœ¨ä¸åŒå±å¹•ä¹‹é—´å¯¼èˆªå¥ å®šåŸºç¡€ã€‚

ğŸ› ï¸ **å®‰å…¨åŒºåŸŸå°éƒ¨ä»¶ï¼š** å¼•å…¥SafeAreaå°éƒ¨ä»¶ï¼Œä»¥ç¡®ä¿æ–‡æœ¬å†…å®¹ä¸è¢«è®¾å¤‡é¡¶éƒ¨çš„çŠ¶æ€æ é®æŒ¡

 ğŸ§­ **å‡†å¤‡ä¸åŒå±å¹•å°éƒ¨ä»¶ï¼š** åˆ›å»ºäº†ä¸‰ä¸ªåŸºæœ¬çš„Statefulå°éƒ¨ä»¶ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸»å±å¹•ã€é€‰æ‹©ä½ç½®å±å¹•å’ŒåŠ è½½å±å¹•ï¼Œå¹¶ç®€å•æµ‹è¯•äº†å®ƒä»¬ã€‚è¿™ä¸€é›†æ•™ç¨‹ä¸ºåˆå­¦è€…æä¾›äº†æ„å»ºFlutteråº”ç”¨ç¨‹åºæ—¶çš„åŸºç¡€çŸ¥è¯†ï¼Œå¹¶ä¸ºæœªæ¥çš„å¯¼èˆªå’Œè·¯ç”±åŠŸèƒ½æ‰“ä¸‹äº†åŸºç¡€ã€‚



```
//è¿™ä¸ªç¨‹åºä¸­ç¨‹åºæœ‰ä¸‰ä¸ªå±å¹•ï¼Œä¸€ä¸ªæ˜¯ä¸»å±å¹•æ˜¾ç¤ºæ—¶é—´ï¼Œä¸€ä¸ªæ˜¯åŠ è½½ç•Œé¢ï¼Œä¸€ä¸ªæ˜¯ç”¨æ›´æ–°ä½ç½®
```

æ‰€ä»¥åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶å¤¹ä¿å­˜å„ä¸ªç•Œé¢ï¼Œ

![image-20231110212040137](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231110212040137.png)

å…¶ä¸­mainå‡½æ•°ä¸»è¦æ˜¯ç”¨æ¥æ§åˆ¶è·¯ç”±çš„

ç„¶ååœ¨æ¯ä¸ªç›¸åº”çš„ç•Œé¢darté‡Œé¢ï¼Œå„è‡ªå»ºé€ è‡ªå·±çš„åŠŸèƒ½æ¨¡å—å’Œå±•ç¤ºæ¨¡å—



```
//main.dart

import 'package:flutter/material.dart';
import 'package:world_time/pages/choose_location.dart';
import 'package:world_time/pages/home.dart';
import 'package:world_time/pages/loading.dart';
import 'package:world_time/pages/choose_location.dart';


void main()=>runApp(MaterialApp(
    //è¿™ä¸ªå®éªŒä¸­ç¨‹åºæœ‰ä¸‰ä¸ªå±å¹•ï¼Œä¸€ä¸ªæ˜¯ä¸»å±å¹•æ˜¾ç¤ºæ—¶é—´ï¼Œä¸€ä¸ªæ˜¯åŠ è½½ç•Œé¢ï¼Œä¸€ä¸ªæ˜¯ç”¨æ›´æ–°ä½ç½®
    //home:Home(),//è°ƒç”¨åœ¨homeé˜¶æ®µè®¾ç½®çš„home
    //ä¼šå’Œä¸‹é¢çš„ç¬¬ä¸€ä¸ªå†²çª
    initialRoute: '/home',//åˆå§‹åŒ–è·¯ç”±ï¼Œå®ç°ç¬¬ä¸€ä¸ªæ˜¯homeï¼Œè€Œä¸”ä¸å†²çª
    routes: {
        //ä½¿ç”¨routesæ¥åˆ›å»ºè·¯çº¿ï¼Œè¿™å°†ä¼šæ˜¯ä¸€ä¸ªmapï¼Œè¦è®°ä½é”®å€¼å¯¹ï¼Œ
        '/':(context)=>Loading(),//æ­£æ–œæ ï¼Œæ˜¯æŒ‡æˆ‘ä»¬ç¬¬ä¸€æ¬¡æ‰“å¼€åº”ç”¨ç¨‹åºæ˜¯æƒ³è¦æ˜¾ç¤ºçš„ç¬¬ä¸€ä¸ªå°éƒ¨ä»¶
        //è¿™äº›ä¸åŒè·¯çº¿çš„å€¼å°†æ˜¯å‡½æ•°
        '/home':(context)=>Home(),
        '/location':(context)=>ChooseLocation(),





    },
));
```



æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸œè¥¿å°±æ˜¯ï¼Œåˆ›å»ºæ¨¡ç‰ˆçš„æ—¶å€™ä¸€å®šè¦æŠŠconstå»æ‰ï¼Œä¸ç„¶ä¼šæŠ¥é”™



```
//é€šè¿‡åœ¨æŒ‰é’®çš„onpressedé‡Œé¢æ”¾ç½®è¿™ä¸ªå¯¼èˆªå™¨ï¼Œå®ç°é¡µé¢ä¹‹é—´çš„è·³è½¬

Navigator.pushNamed(context, '/location');
```



```
body: SafeArea(child: Text('Home screen')),//ä¿è¯éƒ¨ä»¶çš„å‘ˆç°æ˜¯åœ¨å¯ä»¥çœ‹è§çš„åœ°æ–¹ï¼Œå‘ä¸‹ç§»åŠ¨åˆ°å±å¹•ä¸Šçš„å®‰å…¨åŒºåŸŸ
```



#### 1ã€mapçš„æ¦‚å¿µ

 æ‘˜è¦

åœ¨è¿™ä¸ª Flutter åˆå­¦è€…æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦åˆ°äº†å…³äºåœ°å›¾å’Œè·¯ç”±çš„é‡è¦æ¦‚å¿µã€‚é€šè¿‡åˆ›å»ºåœ°å›¾ï¼Œæˆ‘ä»¬ç†è§£äº†åœ¨ Flutter ä¸­å¦‚ä½•è®¾ç½®å’Œä½¿ç”¨ç±»ä¼¼äºå¯¹è±¡æ–‡å­—æˆ– Python å­—å…¸çš„åœ°å›¾ã€‚æ¥ç€ï¼Œæˆ‘ä»¬å­¦åˆ°äº†å¦‚ä½•åœ¨åº”ç”¨ç¨‹åºä¸­è®¾ç½®ä¸åŒçš„è·¯ç”±ï¼Œä»¥ä¾¿åœ¨å±å¹•ä¹‹é—´è¿›è¡Œå¯¼èˆªã€‚æ•™ç¨‹å¼ºè°ƒäº†è·¯ç”±çš„è®¾ç½®å’Œå¦‚ä½•ä½¿ç”¨ `navigator` å¯¹è±¡è¿›è¡Œå±å¹•ä¹‹é—´çš„åˆ‡æ¢ã€‚

äº®ç‚¹

ğŸ—ºï¸ åœ°å›¾å­¦ä¹ ï¼šé€šè¿‡åˆ›å»ºåœ°å›¾ï¼Œæˆ‘ä»¬äº†è§£äº†åœ¨ Flutter ä¸­è®¾ç½®å’Œä½¿ç”¨ç±»ä¼¼äºå¯¹è±¡æ–‡å­—æˆ– Python å­—å…¸çš„åœ°å›¾ã€‚

ğŸ›£ï¸ è·¯ç”±è®¾ç½®ï¼šå­¦åˆ°äº†å¦‚ä½•åœ¨ Flutter åº”ç”¨ç¨‹åºä¸­è®¾ç½®ä¸åŒçš„è·¯ç”±ï¼Œä»¥ä¾¿åœ¨å±å¹•ä¹‹é—´è¿›è¡Œå¯¼èˆªã€‚

ğŸš€ åˆå§‹è·¯ç”±ï¼šæ•™ç¨‹ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ `initialRoute` å±æ€§æ¥è®¾ç½®åº”ç”¨ç¨‹åºçš„åˆå§‹è·¯ç”±ã€‚

ğŸ–±ï¸ å¯¼èˆªæ“ä½œï¼šäº†è§£äº†å¦‚ä½•ä½¿ç”¨ `navigator` å¯¹è±¡çš„ `push` æ–¹æ³•è¿›è¡Œå±å¹•ä¹‹é—´çš„å¯¼èˆªã€‚

â¬…ï¸ è·¯ç”±ç®¡ç†ï¼šæ¢è®¨äº†æ¨é€å’Œå¼¹å‡ºè·¯ç”±çš„æ¦‚å¿µï¼Œä»¥åŠç®¡ç†åº”ç”¨ç¨‹åºä¸­å¤šä¸ªè·¯ç”±çš„é‡è¦æ€§

 ğŸ”„ åˆ·æ–°è·¯ç”±ï¼šæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ `Navigator` ä¸­çš„æ–¹æ³•ä»è·¯ç”±æ ˆä¸­å¼¹å‡ºé¡µé¢ï¼Œå®ç°é¡µé¢çš„è¿”å›åŠŸèƒ½ã€‚

ğŸŒ å¤šè·¯ç”±ç®¡ç†ï¼šæåˆ°äº†åœ¨åº”ç”¨ä¸­ä½¿ç”¨å¤šä¸ªè·¯ç”±æ—¶ï¼Œå¦‚ä½•é«˜æ•ˆåœ°ç®¡ç†è·¯ç”±æ ˆã€‚



å…³äºè·¯ç”±mapçš„ä¸€äº›çŸ¥è¯†

éœ€è¦ä¸€ç§åœ¨è¿™äº›ä¸åŒå±å¹•ä¹‹é—´å¯¼èˆªçš„æ–¹æ³•ï¼Œä¸ºæ­¤æˆ‘ä»¬è¦è§£å†³è·¯ç”±çš„é—®é¢˜ flutter ups

å…¶å®dartsä¸­çš„æ˜ å°„æœ‰ç‚¹åƒJavaScriptä¸­çš„å¯¹è±¡æ–‡å­—æˆ–pythonä¸­çš„å­—å…¸ï¼Œ

å°±åƒä¸€ç»„é”®å’Œå€¼å¯¹ï¼Œ

mapæ˜¯æ•°æ®ç±»å‹

![image-20231110205344422](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231110205344422.png)











è¿™æ ·çš„å®ç°ä¸»å±å¹•è¿˜åœ¨ä¸‹é¢ï¼Œ





æ¨åŠ¨å’Œå¼¹å‡ºè·¯çº¿æˆ–å±å¹•çš„æ•´ä¸ªæ¦‚å¿µ

![image-20231110211915235](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231110211915235.png)





### å…«ã€éƒ¨ä»¶çš„å…¶ä»–åŠŸèƒ½

#### 1ã€å°éƒ¨ä»¶çš„ç”Ÿå‘½å‘¨æœŸ

å†…å®¹æœ¬è§†é¢‘ä»‹ç»äº†Flutterä¸­å°éƒ¨ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œé‡ç‚¹è®¨è®ºäº†æ— çŠ¶æ€å’Œæœ‰çŠ¶æ€å°éƒ¨ä»¶ä»¥åŠå®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚å…¶ä¸­ï¼Œä½¿ç”¨`initState`æ–¹æ³•æ¼”ç¤ºäº†åœ¨é¡µé¢åŠ è½½æ—¶æ‰§è¡Œä»£ç ï¼Œä»¥åŠé€šè¿‡æŒ‰é’®ç‚¹å‡»ä½¿ç”¨`setState`è§¦å‘`build`æ–¹æ³•æ›´æ–°å°éƒ¨ä»¶æ ‘ã€‚

 äº®ç‚¹

[ğŸ”„] æ— çŠ¶æ€å°éƒ¨ä»¶ï¼ˆStateless Widgetï¼‰æ˜¯ä¸èƒ½åœ¨åˆ›å»ºåéšæ—¶é—´æ›´æ”¹çŠ¶æ€çš„å°éƒ¨ä»¶ã€‚

 [ğŸ”„] æœ‰çŠ¶æ€å°éƒ¨ä»¶ï¼ˆStateful Widgetï¼‰å…·æœ‰å¯ä»¥éšæ—¶é—´æ›´æ”¹çš„çŠ¶æ€ï¼Œå¹¶ä½¿ç”¨`setState`æ–¹æ³•è§¦å‘`build`å‡½æ•°ä»¥é‡æ–°æ„å»ºå°éƒ¨ä»¶æ ‘ã€‚

 [ğŸ”„] æœ‰çŠ¶æ€å°éƒ¨ä»¶æœ‰ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼š`initState`ï¼Œ`build`å’Œ`dispose`ã€‚- [ğŸ”„] `initState`æ–¹æ³•åœ¨åˆ›å»ºçŠ¶æ€å¯¹è±¡æ—¶è¿è¡Œä¸€æ¬¡ï¼Œé€šå¸¸ç”¨äºè®¢é˜…æµï¼ˆstreamsï¼‰æˆ–è®¾ç½®å°éƒ¨ä»¶å°†æ¥å¯èƒ½æ›´æ”¹çš„æ•°æ®ã€‚

[ğŸ”„] `build`æ–¹æ³•ç”¨äºæ„å»ºå°éƒ¨ä»¶æ ‘ï¼Œæ¯æ¬¡ä½¿ç”¨`setState`è§¦å‘æ—¶éƒ½ä¼šè¿è¡Œï¼Œä»¥åæ˜ æ•°æ®æ›´æ”¹ã€‚

[ğŸ”„] `dispose`æ–¹æ³•åœ¨å°éƒ¨ä»¶æˆ–çŠ¶æ€å¯¹è±¡è¢«å®Œå…¨ç§»é™¤æ—¶è§¦å‘-

[ğŸ”„] ä½¿ç”¨`initState`æ–¹æ³•å’Œç¤ºä¾‹æ¼”ç¤ºå°éƒ¨ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œé€šè¿‡åœ¨é¡µé¢åŠ è½½æ—¶è¾“å‡ºä¿¡æ¯ä»¥åŠä½¿ç”¨æŒ‰é’®å’Œ`setState`è§¦å‘æ„å»ºå‡½æ•°æ¥æ›´æ–°è®¡æ•°å™¨æ¼”ç¤º`build`çš„è¿è¡Œã€‚



![image-20231112094426848](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112094426848.png)



æœ‰çŠ¶æ€å°éƒ¨ä»¶ï¼Œæ˜¯å¯ä»¥éšç€æ—¶é—´å˜åŒ–è€Œæ”¹å˜çš„

é‡‡ç”¨è°ƒä½£è®¾ç½®çŠ¶æ€æ–¹æ³•ï¼Œå½“æˆ‘ä»¬æ›´æ”¹è¯¥æ–¹æ³•å†…çš„æ•°æ®æ—¶ï¼Œä¼šè§¦å‘æ„å»ºå‡½æ•°æ¥é‡æ„è¿™ä¸ªå°éƒ¨ä»¶ï¼Œå®ç°æœ‰çŠ¶æ€ï¼Œæ›´æ–°å±å¹•ç°æœ‰çš„çŠ¶æ€ã€‚

å°éƒ¨ä»¶ä¹Ÿæœ‰å‡ ä¸ªä¸åŒçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•

ä¸‹é¢æ˜¯å‡ ä¸ªæ–¹æ³•ï¼š

![image-20231112100236842](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112100236842.png)



![image-20231112100629114](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112100629114.png)

![image-20231112100655937](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112100655937.png)

ç›¸å…³åšå®¢è®²è§£ï¼š

http://t.csdnimg.cn/mPK9L

http://t.csdnimg.cn/P09OK



å®ä¾‹ï¼š

aã€//TODO:implement initState

![image-20231112102015824](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112102015824.png)



bã€åˆå§‹åŒ–éƒ¨ä»¶å’Œæ„å»ºéƒ¨ä»¶

```
class _ChooseLocationState extends State<ChooseLocation> {
  int counter=0;
  initState(){
    super.initState();
    print('initState function ran');
    //è¿™ä¸ªæ˜¯åˆå§‹åŒ–æœ‰çŠ¶æ€å°éƒ¨ä»¶
  }
  @override
  Widget build(BuildContext context) {
    print('build function ran');//è¿™ä¸ªæ˜¯åœ¨é‡Œé¢æ‰§è¡Œï¼Œbuildæ„å»º
```

![image-20231112102423530](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112102423530.png)

åˆå§‹åŒ–åªä¼šè¿›è¡Œä¸€æ¬¡ï¼Œè€Œbuildæ˜¯æœ‰æ”¹å˜å°±ä¼šè¿›è¡Œé‡æ„



cã€è®¡æ•°å™¨

```
body: TextButton(
  onPressed:(){
    setState(() {
      counter+=1;
    });
  },
  child: Text('counter is $counter'),
)//è¿™ä¸ªæ˜¯åœ¨é‡Œé¢åˆ›å»ºä¸€ä¸ªè®¡æ•°å™¨å®ä¾‹ï¼Œæ²¡ç‚¹ä¸€æ¬¡è¿™ä¸ªå°±ä¼šé‡æ„buildä¸€æ¬¡
```

![image-20231112103512319](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112103512319.png)



é‡è¦çš„

```
Widget build(BuildContext context) {â€¦â€¦}

```

åœ¨Flutterä¸­ï¼Œ`build` æ–¹æ³•æ˜¯`StatefulWidget`çš„ä¸€ä¸ªé‡è¦ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å®šä¹‰äº†å°éƒ¨ä»¶çš„UIç»“æ„ï¼Œå¹¶åœ¨å°éƒ¨ä»¶éœ€è¦é‡æ–°æ„å»ºæ—¶è¢«è°ƒç”¨ã€‚`build` æ–¹æ³•æ¥æ”¶ä¸€ä¸ª`BuildContext`å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†æœ‰å…³å°éƒ¨ä»¶åœ¨å°éƒ¨ä»¶æ ‘ä¸­ä½ç½®çš„ä¿¡æ¯ã€‚



#### 2ã€å¼‚æ­¥

æ‘˜è¦è¿™ä¸ªæ•™ç¨‹ä»‹ç»äº†Flutterä¸­çš„å¼‚æ­¥ä»£ç å¤„ç†æ–¹æ³•ï¼Œé‡ç‚¹æ˜¯ä½¿ç”¨å¼‚æ­¥å‡½æ•°ã€awaitå…³é”®å­—å’ŒFutureå¯¹è±¡ã€‚å¼‚æ­¥ä»£ç ç”¨äºå¤„ç†éœ€è¦åœ¨æœªæ¥æŸä¸ªæ—¶åˆ»å®Œæˆçš„æ“ä½œï¼Œä¾‹å¦‚ä¸APIç«¯ç‚¹æˆ–æ•°æ®åº“çš„äº¤äº’ã€‚é€šè¿‡ä½¿ç”¨å»¶è¿Ÿå‡½æ•°æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚ï¼Œæ¼”ç¤ºäº†éé˜»å¡ä»£ç çš„æ¦‚å¿µã€‚æœ€åï¼Œä»‹ç»äº†å¦‚ä½•ä½¿ç”¨asyncå’Œawaitåˆ›å»ºå¼‚æ­¥å‡½æ•°ï¼Œå¹¶ä½¿ç”¨awaitç¡®ä¿åœ¨ä¸€ä¸ªè¯·æ±‚å®Œæˆåå†æ‰§è¡Œä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚

äº®ç‚¹

â³ å¼‚æ­¥ä»£ç è¡¨ç¤ºä¸€ä¸ªåœ¨ç°åœ¨å¼€å§‹å¹¶åœ¨æœªæ¥æŸä¸ªæ—¶åˆ»å®Œæˆçš„æ“ä½œã€‚

ğŸ”„ Flutterä¸­å¤„ç†å¼‚æ­¥ä»£ç çš„æ–¹æ³•ï¼šå¼‚æ­¥å‡½æ•°ã€awaitå…³é”®å­—å’ŒFutureå¯¹è±¡ã€‚- ğŸ“¡ ä½¿ç”¨å»¶è¿Ÿå‡½æ•°æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚ï¼Œæ¼”ç¤ºäº†éé˜»å¡ä»£ç çš„å·¥ä½œåŸç†ã€‚

ğŸ”„ ä½¿ç”¨asyncå’Œawaitåˆ›å»ºå¼‚æ­¥å‡½æ•°ï¼Œç¡®ä¿åœ¨ä¸€ä¸ªè¯·æ±‚å®Œæˆåå†æ‰§è¡Œä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚- ğŸ“¦ å¼•å…¥FlutteråŒ…çš„æ¦‚å¿µï¼Œä¸ºæœªæ¥ä½¿ç”¨ç¬¬ä¸‰æ–¹APIè·å–æ—¶é—´ä¿¡æ¯åšé“ºå«

 ğŸš€ å±•ç¤ºäº†å¼‚æ­¥ä»£ç çš„ä¼˜åŠ¿ï¼Œä½¿å¾—åœ¨ä¸€ä¸ªè¯·æ±‚è¿›è¡Œæ—¶ï¼Œä»£ç çš„å…¶ä½™éƒ¨åˆ†èƒ½å¤Ÿç»§ç»­æ‰§è¡Œ



flutterä¸­çš„å¤„ç†Promiseã€asyncå’Œwaitå¼‚æ­¥ä»£ç ä¹‹ç±»çš„äº‹æƒ…éå¸¸ç›¸ä¼¼ã€‚

==å¼‚æ­¥è¡¨ç¤ºåœ¨ç°åœ¨å¼€å§‹åˆ°æœªæ¥çš„æŸä¸ªæ—¶é—´å®Œæˆçš„æ“ä½œï¼ˆå°±æ˜¯ä¸ä¼šç°åœ¨å°±åœæ­¢çš„ï¼‰ï¼Œ==ä¾‹å¦‚ï¼šä¸APIç«¯ç‚¹æˆ–æ•°æ®åº“æˆ–å…¶ä»–ä¸œè¥¿äº¤äº’ä»¥è·å–ä¸€äº›æ•°æ®

```
class _ChooseLocationState extends State<ChooseLocation> {

  void getdata(){//æ„å»ºå‡½æ•°

    //simulate network request for a username
    Future.delayed(Duration(seconds:3),(){
     //Futureæ˜¯å¼‚æ­¥ï¼Œdelayedæ˜¯ä½¿ç”¨å»¶è¿Ÿçš„æ„æ€ï¼ŒDuration(seconds:3ï¼‰å»¶è¿Ÿ3ç§’é’Ÿ
      print('yoshi');
    });

    //simulate network request to get bio of the username
    Future.delayed(Duration(seconds:2),(){
     //Futureæ˜¯å¼‚æ­¥ï¼Œdelayedæ˜¯ä½¿ç”¨å»¶è¿Ÿçš„æ„æ€ï¼ŒDuration(seconds:3ï¼‰å»¶è¿Ÿ3ç§’é’Ÿ
      print('science');
    });

    print('statement');

  }
```

![image-20231112112456984](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112112456984.png)

æŒ‰ç…§ä¸Šé¢è¿™ä¸ªå¯¹è¯ï¼Œé‚£ä¸ªstatementä¼šæ¯”ä¸Šé¢çš„yoshiæ›´å¿«å‡ºç°ï¼Œå› ä¸ºå…¶æ²¡æœ‰å»¶è¿Ÿã€‚



ä½†å¦‚æœæˆ‘ä»¬æƒ³å®ç°ï¼Œå…ˆè¾“å‡ºä¸Šé¢çš„ï¼Œå†è¾“å‡ºä¸‹é¢çš„ï¼Œå°±è¦é€šè¿‡await ç­‰ æ¥å®ç°ã€

async await

![image-20231112112743515](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112112743515.png)

éœ€è¦ç­‰å“ªé‡Œå°±åŠ awaitåœ¨å…¶å‰é¢ï¼Œé˜»å¡ä½



å°è£…æˆå˜é‡

![image-20231112113154356](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112113154356.png)

![image-20231112113232181](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112113232181.png)



å…³äºå¼‚æ­¥çš„ç›¸å…³åšå®¢ï¼š

http://t.csdnimg.cn/KXreX

http://t.csdnimg.cn/qXsk6

http://t.csdnimg.cn/RgQGI





#### 3ã€flutteråŒ…

æ‘˜è¦

åœ¨è¿™ä¸ª Flutter åˆå­¦è€…æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Flutter Packages ä¸­çš„ HTTP åŒ…ã€‚HTTP åŒ…ä½¿æˆ‘ä»¬èƒ½å¤Ÿè½»æ¾å¤„ç†ä¸ç¬¬ä¸‰æ–¹ API çš„ HTTP è¯·æ±‚ï¼Œä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæä¾›å¼ºå¤§çš„ç½‘ç»œåŠŸèƒ½ã€‚

äº®ç‚¹

ğŸ“¦ Flutter Packagesï¼šä½¿ç”¨ Flutter Packagesï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å…¶ä»–å¼€å‘è€…å·²ç»ç¼–å†™çš„ä»£ç å’Œé€»è¾‘ï¼Œå¿«é€Ÿå®ç°å„ç§åŠŸèƒ½ï¼Œå¦‚æ»‘åŠ¨èœå•ã€æ—¥æœŸé€‰æ‹©å™¨æˆ–æ–‡ä»¶ä¸Šä¼ ã€‚

ğŸŒ HTTP åŒ…ï¼šæœ¬æ•™ç¨‹é‡ç‚¹ä»‹ç»äº† HTTP åŒ…ï¼Œè¯¥åŒ…å…è®¸æˆ‘ä»¬è½»æ¾å¤„ç†ä¸ç¬¬ä¸‰æ–¹ API çš„ HTTP è¯·æ±‚ã€‚é€šè¿‡å®‰è£…å’Œé…ç½® HTTP åŒ…ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œè·å–æ‰€éœ€çš„æ•°æ®ã€‚

ğŸ“ˆ Pub.devï¼šä½¿ç”¨ pub.dev ç½‘ç«™ï¼Œæˆ‘ä»¬åœ¨ pubspec.yaml æ–‡ä»¶ä¸­æ·»åŠ äº† HTTP åŒ…çš„ä¾èµ–ï¼Œé€šè¿‡ç®€å•çš„æ­¥éª¤å®Œæˆå®‰è£…ã€‚

ğŸ”„ å¼‚æ­¥å¤„ç†ï¼šæ•™ç¨‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Flutter ä¸­çš„å¼‚æ­¥ä»£ç ï¼Œä»¥åŠå¦‚ä½•åœ¨åŠ è½½å±å¹•ä¸­ä½¿ç”¨ HTTP åŒ…è¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œè·å–æ•°æ®ã€‚

ç½‘å€;https://pub.dev/packages?q=sdk%3Aflutter

httpåŒ…å®ä¾‹

![image-20231112124917634](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112124917634.png)

![image-20231112130550780](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112130550780.png)

è¿™ä¸¤ç§åŠ å…¥httpçš„æ–¹æ³•çš„æ•ˆæœæ˜¯ä¸€æ ·çš„

1ï¼‰æ–¹æ³•1![image-20231112130720740](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112130720740.png)

2ï¼‰æ–¹æ³•2

```
dependencies:
  flutter:
    sdk: flutter
    http: ^1.1.0//è¿™é‡Œé¢çš„^æ˜¯æ›´æ–°ç‰ˆæœ¬å·çš„æ„æ€
```

![image-20231112125306969](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112125306969.png)



```
import 'package:http/http.dart';//è¿™ä¸ªå¯¼åŒ…éƒ½æ˜¯è¦åŠ çš„
```





åœ¨loadingé¡µé¢ä¸­åŠ å…¥åˆå§‹åŒ–å°éƒ¨ä»¶ï¼Œå¹¶ä¸”é€šè¿‡æˆ‘é‚£ä¸¤ä¸ªè¯·æ±‚çš„æ–¹å¼æ¥è·å–æ•°æ®

ä½¿ç”¨jsonå ä½ç¬¦æ¥è¿”å›ä¿¡æ¯ï¼ŒResponse response

![image-20231112131935684](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112131935684.png)



åœ¨mainä¸­ï¼ŒæŠŠé¦–é¡µé¢æ”¹æˆ'/'

![image-20231112132145016](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112132145016.png)



ç»“æœè¿”å›

![image-20231112132215113](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112132215113.png)





ä¼˜åŒ–ï¼Œå®šä¹‰æˆMapç±»å‹ ï¼Œä½¿å…¶å‘ˆé“¾è¾“å‡º

![image-20231112132757167](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112132757167.png)

![image-20231112132829407](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231112132829407.png)

æŒ‰ç…§è§†é¢‘æ•™ç¨‹æ¥çš„ï¼Œåœ¨æ·»åŠ urlçš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¿™ä¸ªçš„å½¢å¼çš„uriï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åœ¨å‰é¢åŠ ä¸Š

Uri.parse()



#### 4ã€World Time API

æœ‰å…³APIçš„ç›¸å…³åšå®¢ï¼š

http://t.csdnimg.cn/ukSUO

http://t.csdnimg.cn/WL62B



 æ‘˜è¦

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œä½œè€…ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Flutterå¼€å‘ä¸€ä¸ªæ˜¾ç¤ºä¸–ç•Œå„åœ°æ—¶é—´çš„åº”ç”¨ã€‚æ•™ç¨‹çš„ç„¦ç‚¹æ˜¯ä½¿ç”¨World Time APIè·å–æ—¶é—´æ•°æ®ã€‚ä½œè€…æ¼”ç¤ºäº†å¦‚ä½•é€šè¿‡APIè¯·æ±‚è·å–æ—¥æœŸæ—¶é—´å’Œæ—¶åŒºåç§»ï¼Œå¹¶è§£é‡Šäº†å¦‚ä½•å°†è¿™äº›ä¿¡æ¯è½¬æ¢ä¸ºå¯ç”¨äºæ˜¾ç¤ºçš„æ ¼å¼ã€‚æœ€åï¼Œä½œè€…æåˆ°äº†å°†è¿™äº›é€»è¾‘åˆ†ç¦»åˆ°ä¸€ä¸ªç‹¬ç«‹çš„ç±»å’Œæ–‡ä»¶ä¸­ï¼Œä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯é‡ç”¨æ€§ã€‚

äº®ç‚¹

ğŸŒ ä½¿ç”¨World Time APIè·å–æ—¶é—´æ•°æ®

ğŸŒ é€šè¿‡APIè¯·æ±‚è·å–ä¸åŒåœ°åŒºçš„æ—¥æœŸæ—¶é—´å’Œæ—¶åŒºåç§»

 ğŸ”„ å°†APIå“åº”è½¬æ¢ä¸ºå¯ç”¨äºæ˜¾ç¤ºçš„æ•°æ®æ ¼å¼

ğŸ“… å¤„ç†æ—¥æœŸæ—¶é—´å’Œæ—¶åŒºåç§»ä»¥è·å¾—æœ¬åœ°æ—¶é—´

 ğŸš€ å±•ç¤ºäº†å¦‚ä½•åœ¨Flutteråº”ç”¨ä¸­å®ç°è¿™ä¸€åŠŸèƒ½

ğŸ§  æåˆ°äº†å°†ä»£ç é€»è¾‘åˆ†ç¦»åˆ°ç‹¬ç«‹ç±»å’Œæ–‡ä»¶ä¸­ä»¥æé«˜å¯è¯»æ€§å’Œå¯é‡ç”¨æ€§

**API æ˜¯ç”¨äºæ„å»ºåº”ç”¨ç¨‹åºè½¯ä»¶çš„ä¸€ç»„å­ç¨‹åºå®šä¹‰ï¼Œåè®®å’Œå·¥å…·ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™æ˜¯ä¸€å¥—æ˜ç¡®å®šä¹‰çš„å„ç§è½¯ä»¶ç»„ä»¶ä¹‹é—´çš„é€šä¿¡æ–¹æ³•ã€‚**é€šç”¨çš„æ ¼å¼åŒ…å« *XML* å’Œ JSON

å¯¹æ­¤å‘å‡ºHTTPè¯·æ±‚ï¼Œé‚£ä¹ˆapiå°±ä¼šä»ç›¸åº”ä¸­è¿”å›å…¶æ‰€æœ‰çš„ä¿¡æ¯



```
//make the requestå‘é€è¯·æ±‚
Response response =await get(Uri.parse('http://worldtimeapi.org/api/timezone/America/Argentina/Salta'));//è¿æ¥apiè·å–æ•°æ®
Map data=jsonDecode(response.body);//å°†å…¶æ”¹ä¸ºjsonåè®®
//printï¼ˆdataï¼‰;

//get properties from data åœ¨æ•°æ®ä¸­è·å–å±æ€§
String datetime =data['datetime'];
//String offset =data['utc_offset'];
String offset =data['utc_offset'].substring(1,3);//substringæ˜¯é€‰å–å­—ç¬¦ä¸²çš„éƒ¨åˆ†ï¼Œè¿™ä¸ªé‡Œé¢çš„å°±æ˜¯é€‰å–1-3ä½ç½®çš„å­ä¸²ï¼Œé¿å…æ— å…³çš„éœ€è¦
//print (datetime);
//print(offset);

//create DataTime objectï¼Œåˆ›å»ºDateTimeç±»å‹
DateTime now =DateTime.parse(datetime);//è°ƒç”¨äº†DateTimeç±»å‹ï¼Œæ¥å­˜å‚¨æ—¶é—´ç±»å‹ï¼Œä½¿å…¶è¾“å‡ºæ›´åŠ å¥½çœ‹ï¼Œparseæ˜¯å°†ä¸Šé¢çš„ä¼ å…¥çš„å‚æ•°å°±è¡Œè½¬æ¢
now=now.add(Duration(hours: int.parse(offset)));//è¿™ä¸ªå°±æ˜¯åœ¨æ—¶é—´éƒ¨åˆ†åŠ å…¥åç§»é‡æˆ–è€…å…¶ä»–ä¸€äº›æ—¶é—´é‡ï¼ŒåŠ åœ¨æ—¶é—´ä¸Šï¼Œä½¿å…¶æ›´åŠ å‡†ç¡®
print(now);
```



![image-20231115090843782](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231115090843782.png)



é‡è¦ä»£ç API

```
Response response =await get(Uri.parse('http://worldtimeapi.org/api/timezone/America/Argentina/Salta'));
//è¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œä½¿ç”¨äº† Dart ä¸­çš„ http åŒ…,get å‡½æ•°æ˜¯ http åŒ…æä¾›çš„å‡½æ•°ï¼Œç”¨äºå‘èµ· HTTP GET è¯·æ±‚
Map data=jsonDecode(response.body);//å°†å…¶æ”¹ä¸ºjsonåè®®
//response.body: è·å–äº†ç½‘ç»œè¯·æ±‚çš„å“åº”ä½“ï¼Œå³ä»æœåŠ¡å™¨è¿”å›çš„æ•°æ®ã€‚
//jsonDecode(response.body): å°†è·å–åˆ°çš„å“åº”ä½“æ•°æ®è¿›è¡Œ JSON è§£ç ï¼Œå°†å…¶è½¬æ¢ä¸º Dart ä¸­çš„ Map å¯¹è±¡ã€‚
```



#### 5ã€å°†world_timeçš„å®ä¾‹åŒ–åˆ°é¡µé¢ä¸Š

 æ‘˜è¦åœ¨è¿™ä¸ª Flutter åˆå­¦è€…æ•™ç¨‹çš„ç¬¬ 28 é›†ä¸­ï¼Œä½œè€…ä»‹ç»äº†å¦‚ä½•å°†æ‰€æœ‰çš„ä¸–ç•Œæ—¶é—´é€»è¾‘å’Œè·å–æ—¶é—´çš„å‡½æ•°åˆ†ç¦»åˆ°ä¸€ä¸ªè‡ªå®šä¹‰ç±»ä¸­ã€‚è¿™ä¸ªè‡ªå®šä¹‰ç±»èƒ½å¤Ÿä½¿ä»£ç æ›´å…·å¯é‡ç”¨æ€§ï¼Œå› ä¸ºå¯ä»¥åœ¨æœªæ¥çš„ä»»ä½•æ–‡ä»¶æˆ–å°éƒ¨ä»¶ä¸­å¯¼å…¥è¯¥ç±»ï¼Œå¹¶ä¸”å¯ä»¥æ¸…ç†å½“å‰çš„å°éƒ¨ä»¶ä»£ç ã€‚æ•™ç¨‹ä¸­åŒ…æ‹¬äº†åˆ›å»ºæœåŠ¡æ–‡ä»¶å¤¹ã€å¯¼å…¥å¿…è¦çš„åŒ…ã€å®šä¹‰ä¸–ç•Œæ—¶é—´ç±»çš„å±æ€§å’Œæ„é€ å‡½æ•°ï¼Œä»¥åŠå¦‚ä½•åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨è¯¥ç±»ã€‚

äº®ç‚¹

ğŸ“ åˆ›å»ºæœåŠ¡æ–‡ä»¶å¤¹ï¼ˆservicesï¼‰å’Œä¸–ç•Œæ—¶é—´ç±»ï¼ˆworld_time.dartï¼‰ä»¥ç»„ç»‡ä»£ç ã€‚

ğŸ“¦ å¯¼å…¥ HTTP å’Œ dart:convert åŒ…ä»¥æ”¯æŒè¯·æ±‚å’Œ JSON è§£ç ã€‚

ğŸ”„ å°†è·å–æ—¶é—´çš„å‡½æ•°ä»å½“å‰æ–‡ä»¶ç§»åˆ°æ–°åˆ›å»ºçš„ä¸–ç•Œæ—¶é—´ç±»ä¸­ã€‚- ğŸ—ï¸ å®šä¹‰ä¸–ç•Œæ—¶é—´ç±»çš„å±æ€§ï¼Œå¦‚ä½ç½®ã€æ—¶é—´ã€æ ‡å¿—å›¾åƒ URL å’Œ API ç»ˆç«¯ URLã€‚

ğŸ› ï¸ åˆ›å»ºä¸–ç•Œæ—¶é—´ç±»çš„æ„é€ å‡½æ•°ï¼Œä»¥æ¥å—ä½ç½®ã€æ ‡å¿—å’Œ URLï¼Œå¹¶åˆå§‹åŒ–ç±»çš„å±æ€§

 ğŸ”„ åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æ–°çš„ä¸–ç•Œæ—¶é—´ç±»ï¼Œåˆ›å»ºç±»çš„å®ä¾‹å¹¶è°ƒç”¨è·å–æ—¶é—´çš„å‡½æ•°ã€‚

âš™ï¸ å¼•å…¥å¼‚æ­¥ç¼–ç¨‹æ¦‚å¿µï¼Œä½¿ç”¨ async/await å¤„ç†å¼‚æ­¥å‡½æ•°çš„è°ƒç”¨å’Œç­‰å¾…ã€‚





é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ï¼Œåœ¨å…¶é‡Œé¢å®šä¹‰ä¸€ä¸ª.dartæ–‡ä»¶ï¼Œå¯¹äºä¸€ä¸ªæ–°çš„dartæ–‡ä»¶ï¼Œç›¸åº”çš„importå°‘ä¸äº†ã€‚

world_timeæ–‡ä»¶

```
import 'package:http/http.dart';
import 'dart:convert';

class WorldTime{

  String location;//åœ°æ–¹åå­—for the UI
  String time='';//åœ°æ–¹æ—¶é—´ï¼Œå› ä¸ºä¸‹é¢æ“ä½œçš„è¿‡ç¨‹æ²¡æœ‰å¯¹timeå°±è¡Œåˆå§‹åŒ–ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œéœ€è¦åˆå§‹åŒ–
  String flag;//url to an asset flag icon
  String url;//loaction url for api endpoint

  WorldTime({//ä¸€å®šè¦åŠ requireï¼Œè®¾ç½®è¿™ä¸ªå‚æ•°ä¸å¯ä»¥æ˜¯null
    required this.location,
    required this.flag,
    required this.url});//è¿™ä¸ªå°±æ˜¯å‡½æ•°æ“¦ä¼ å…¥å‚æ•°è®¾ç½®ï¼Œæ‰€ä»¥ä½¿ç”¨worldtimeå°±è¦ä¼ å…¥è¿™ä¸‰ä¸ªå‚æ•°
  Future<void> getTime() async {
    //future æœ‰ç‚¹åƒjavascriptä¸­çš„æ‰¿è¯ºï¼Œæ„å‘³ç€å®ƒæ˜¯ä¸€ä¸ªå ä½ç¬¦å€¼ï¼ŒçŸ¥é“å‡½æ•°å®Œæˆä¸ºæ­¢ï¼Œæ—¶åˆ»ä¿æŒè¿”å›voidï¼Œä»…å½“å¼‚æ­¥å‡½æ•°å·²å®Œå…¨å®Œæˆ
    //futureæ˜¯ä¸€ä¸ªä¸´æ—¶å ä½ç¬¦
    //make the request
    Response response =await get(Uri.parse('http://worldtimeapi.org/api/timezone/$url'));
    //è¿™é‡Œé¢çš„$urlæœ€é‡è¦ï¼Œå› ä¸ºè¿™ä¸ªä½¿apiæ ¹æ®ä¼ å…¥çš„å‚æ•°è€Œæ”¹å˜
    Map data=jsonDecode(response.body);//è¿æ¥apiè·å–æ•°æ®
    //printï¼ˆdataï¼‰;

    //get properties from data åœ¨æ•°æ®ä¸­è·å–å±æ€§
    String datetime =data['datetime'];
    //String offset =data['utc_offset'];
    String offset =data['utc_offset'].substring(1,3);//substringæ˜¯é€‰å–å­—ç¬¦ä¸²çš„éƒ¨åˆ†ï¼Œè¿™ä¸ªé‡Œé¢çš„å°±æ˜¯é€‰å–1-3ä½ç½®çš„å­ä¸²ï¼Œé¿å…æ— å…³çš„éœ€è¦
    //print (datetime);
    //print(offset);

    //create DataTime object
    DateTime now =DateTime.parse(datetime);//è°ƒç”¨äº†DateTimeç±»å‹ï¼Œæ¥å­˜å‚¨æ—¶é—´ç±»å‹ï¼Œä½¿å…¶è¾“å‡ºæ›´åŠ å¥½çœ‹ï¼Œparseæ˜¯å°†ä¸Šé¢çš„ä¼ å…¥çš„å‚æ•°å°±è¡Œè½¬æ¢
    now=now.add(Duration(hours: int.parse(offset)));//è¿™ä¸ªå°±æ˜¯åœ¨æ—¶é—´éƒ¨åˆ†åŠ å…¥åç§»é‡æˆ–è€…å…¶ä»–ä¸€äº›æ—¶é—´é‡ï¼ŒåŠ åœ¨æ—¶é—´ä¸Šï¼Œä½¿å…¶æ›´åŠ å‡†ç¡®
    //è®¾ç½®æ—¶é—´å±æ€§
    time=now.toString();//ä½¿ç”¨tostringå°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œèµ‹äºˆtime
  }

  //WorldTime instance=WorldTime(location: 'Berlin',flag:'germany.png',url: 'Europe/Berlin');
  //è¿™ä¸ªæ˜¯è°ƒç”¨å‡½æ•°ï¼Œè¿™çŸ¥è¯†ä¸ªäº‹ä¾‹ï¼Œå› ä¸ºè¦åœ¨å…¶ä»–çš„å‡½æ•°é‡Œé¢å±•ç¤ºï¼Œæ‰€ä»¥è¿™ä¸ªå†™åœ¨å…¶ä»–é¡µé¢é‚£é‡Œ


}
```



loadingæ–‡ä»¶éƒ¨åˆ†

```
String time = 'loading';//ä¸ºä¸‹é¢æ–‡å­—å±•ç¤ºç”¨

  void setupWorldTime() async {
    WorldTime instance = WorldTime(
        location: 'Berlin', flag: 'germany.png', url: 'Europe/Berlin')ï¼›
    //è°ƒç”¨å‡½æ•°ï¼Œä¼ å…¥ç›¸åº”çš„å‚æ•°
    await instance.getTime();
    print(instance.time);
    setState(() {//ä½¿ç”¨æœ‰çŠ¶æ€éƒ¨ä»¶æ›´æ–°é¡µé¢
      time = instance.time;
    });
  }


  int counter = 0;

  @override
  initState() {
    super.initState();
    setupWorldTime();
    //getTime();
    //å®ƒå®é™…è¿è¡Œæ˜¯ï¼Œå¯ä»¥åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°ï¼Œå°†å…¶å¤åˆ¶ç²˜è´´åˆ°æ„å»ºæ–¹æ³•é‡Œé¢
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Padding(
        padding: EdgeInsets.all(50.0),
        child: Text(time),
      ),
    );
  }
}
```



é‡è¦ä»£ç ï¼šåé¢çš„$urlä½¿çš„apiéšç€ä¼ å…¥çš„å‚æ•°è€Œæ”¹å˜

==get(Uri.parse('http://worldtimeapi.org/api/timezone/$url'));==





å°å°é¿é›·ï¼Œåœ¨è¿™ä¸ªéƒ¨åˆ†çš„å®šä¹‰å‡½æ•°ä¼ å‚

ç¬¬ä¸€ä¸ªæ˜¯string timeï¼Œå› ä¸ºåœ¨ä¸‹é¢ä½¿ç”¨çš„è¿‡ç¨‹å¾€å¾€ä¼šæœªå¯¹timeè¿›è¡Œåˆå§‹åŒ–å°±ä½¿ç”¨ï¼Œè¿™æ ·ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥å¯¹äºè¿™ç§æƒ…å†µå†ä¸€å¼€å§‹çš„æ—¶å€™æœ€å¥½ç»™ä¸ªåˆå§‹åŒ–ï¼Œtime=â€˜ â€™ï¼›

ç¬¬äºŒä¸ªå°±æ˜¯å‡½æ•°çš„å‚æ•°è®¾è®¡ï¼Œå¦‚æœç›´æ¥è®¾ç½®æˆthis.locationâ€¦â€¦ï¼Œè¿™æ ·çš„è¯ä¼ å…¥çš„æ—¶å€™æ˜¯å¯ä»¥ä¸ºnullï¼Œè¿™æ ·å¯¹äºä¸‹é¢çš„ç›¸åº”çš„æ“ä½œå†²çªï¼Œæ‰€ä»¥å¦‚æœä½ ä¸å¸Œæœ›ä»–ä»¬ä¸ºnullï¼Œå°±åœ¨å…¶å‰é¢åŠ ä¸Šrequireå…³é”®å­—ã€‚

![image-20231115162506099](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231115162506099.png)



#### 6ã€é‡åˆ°é”™è¯¯çš„å¤„ç†

ä»£ç ä¸­å¯èƒ½å‘ç”Ÿçš„é”™è¯¯å¤„ç†æ–¹å¼

å½“æˆ‘ä»¬è°ƒç”¨çš„å‡½æ•°æ²¡æœ‰è¿”å›çš„æ—¶å€™ï¼Œè¿™ä¸ªå°±ä¸ä¼šè·³è½¬äº†ï¼Œè¿™æ ·æ˜¯ä¸å¥½çš„ï¼Œé‡åˆ°é”™è¯¯çš„æ—¶å€™ï¼Œåº”è¯¥æŠŠé”™è¯¯å±•ç¤ºå‡ºæ¥ï¼Œå‘Šè¯‰ç”¨æˆ·å‘ç”Ÿäº†ä»€ä¹ˆé”™è¯¯ã€‚

![image-20231115165454156](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231115165454156.png)



 [ğŸ› ï¸] ä½¿ç”¨ try å’Œ catch å—å¤„ç†é”™è¯¯

tryå°±æ˜¯ä¸€å¼€å§‹è¿è¡Œçš„ï¼Œå¦‚æœé”™è¯¯ï¼Œå°±è¿è¡Œcatchçš„å†…å®¹ï¼Œè¿™ä¸ºé”™è¯¯æä¾›äº†è¡¨è¾¾

```
try{

  //make the request
  Response response =await get(Uri.parse('http://worldtimeapi.org/api/timezones/$url'));
  Map data=jsonDecode(response.body);//è¿æ¥apiè·å–æ•°æ®
  //printï¼ˆdataï¼‰;

  //get properties from data åœ¨æ•°æ®ä¸­è·å–å±æ€§
  String datetime =data['datetime'];
  //String offset =data['utc_offset'];
  String offset =data['utc_offset'].substring(1,3);//substringæ˜¯é€‰å–å­—ç¬¦ä¸²çš„éƒ¨åˆ†ï¼Œè¿™ä¸ªé‡Œé¢çš„å°±æ˜¯é€‰å–1-3ä½ç½®çš„å­ä¸²ï¼Œé¿å…æ— å…³çš„éœ€è¦
  //print (datetime);
  //print(offset);

  //create DataTime object
  DateTime now =DateTime.parse(datetime);//è°ƒç”¨äº†DateTimeç±»å‹ï¼Œæ¥å­˜å‚¨æ—¶é—´ç±»å‹ï¼Œä½¿å…¶è¾“å‡ºæ›´åŠ å¥½çœ‹ï¼Œparseæ˜¯å°†ä¸Šé¢çš„ä¼ å…¥çš„å‚æ•°å°±è¡Œè½¬æ¢
  now=now.add(Duration(hours: int.parse(offset)));//è¿™ä¸ªå°±æ˜¯åœ¨æ—¶é—´éƒ¨åˆ†åŠ å…¥åç§»é‡æˆ–è€…å…¶ä»–ä¸€äº›æ—¶é—´é‡ï¼ŒåŠ åœ¨æ—¶é—´ä¸Šï¼Œä½¿å…¶æ›´åŠ å‡†ç¡®
  //è®¾ç½®æ—¶é—´å±æ€§
  time=now.toString();//ä½¿ç”¨tostringå°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œèµ‹äºˆtime
}
catch(e){
  print('caught error:$e');
  time='could not get time data';//é€šè¿‡è¿™ä¸ªæ¥è§£å†³çº¢å±å’Œç©ºç™½é—®é¢˜
}
}
```

[ğŸ’¡] æ›´æ–°å˜é‡ä»¥æä¾›æœ‰æ„ä¹‰çš„é”™è¯¯æ¶ˆæ¯

```
time='could not get time data';//æ›´æ–°å˜é‡è§£å†³çº¢å±å’Œç©ºç™½é—®é¢˜ï¼Œæä¾›æœ‰æ•ˆé”™è¯¯ä¿¡æ¯
```

![image-20231115170145160](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231115170145160.png)

 [ğŸ”„] é¿å…çº¢å±é”™è¯¯ï¼Œä½¿ç”¨æˆ·äº†è§£å‘ç”Ÿäº†ä»€ä¹ˆ- 

[âœ”ï¸] æˆåŠŸå¤„ç†é”™è¯¯



#### 7ã€åœ¨è·å–æ•°æ®åé‡å®šå‘åˆ°ä¸»é¡µå±•ç¤ºæ•°æ®

 æ‘˜è¦

åœ¨ä¸Šé¢å­¦ä¹ å¦‚ä½•åœ¨loadiingå±å¹•ä¸­è·å–æ‰€éœ€çš„æ—¶é—´æ•°æ®ï¼Œè¿™èŠ‚å°†å­¦ä¹ å¦‚ä½•åœ¨å¾—åˆ°æ—¶é—´æ•°æ®åé‡å®šå‘åˆ°ä¸»é¡µã€‚é€šè¿‡ä½¿ç”¨ Navigator å¯¹è±¡çš„ `pushReplacementNamed` æ–¹æ³•ï¼Œæˆ‘ä»¬æˆåŠŸåœ°åœ¨åŠ è½½å±å¹•ä¸Šæ–¹æ¨é€äº†ä¸»é¡µè·¯ç”±ï¼Œè€Œä¸æ˜¯å°†å…¶æ·»åŠ åˆ°è·¯ç”±å †æ ˆä¸­ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æ¢è®¨äº†å¦‚ä½•é€šè¿‡ `arguments` å‚æ•°å°†æ•°æ®ä¼ é€’åˆ°æ–°è·¯ç”±ï¼Œå¹¶åœ¨ç›®æ ‡å±å¹•ä¸­è®¿é—®è¿™äº›æ•°æ®ã€‚

é¦–å…ˆæˆ‘ä»¬å…ˆå°†loadingç•Œé¢ä¸Šçš„è¾“å‡ºåˆ é™¤ï¼ŒæŠŠå…¶çš„æ•°æ®ä¼ ä¸ªå…¶ä»–ç•Œé¢ã€‚

 ğŸ”„ ä½¿ç”¨ `pushReplacementNamed` åœ¨å°†loadingå¾—åˆ°çš„æ•°æ®é‡å®šå‘åˆ°ä¸»é¡µã€‚

ğŸ—ºï¸ é€šè¿‡ `arguments` å‚æ•°ä¼ é€’ä½ç½®ã€æ ‡å¿—å’Œæ—¶é—´æ•°æ®ã€‚

```
void setupWorldTime() async {
  WorldTime instance = WorldTime(
      location: 'Berlin', flag: 'germany.png', url: 'Europe/Berlin');
  await instance.getTime();
  Navigator.pushReplacementNamed(context, '/home',arguments: {
  'location':instance.location,
    'flag':instance.flag,
    'time':instance.time,
  });
  }
  
  //pushReplacementNamedå®ç°çš„æ˜¯æ›¿æ¢ç•Œé¢ï¼Œ'/home'æ˜¯æ›¿æ¢æ¥çš„ç•Œé¢ï¼Œargumentæ˜¯å®ç°æŠŠå‚æ•°ä¼ é€’å‡ºå»
```



 ğŸ§© åˆ©ç”¨ `modalRoute.settings.arguments` åœ¨ç›®æ ‡å±å¹•ä¸­æ¥æ”¶ä¼ é€’çš„æ•°æ®ã€‚

åœ¨homeæ–‡ä»¶ä¸­ï¼Œåˆ©ç”¨modalRoute.settings.argumentsæ¥æ”¶ä¼ é€’æ¥çš„æ•°æ®

```
class _HomeState extends State<Home> {

  Map data={};//å®šä¹‰ä¸€ä¸ªmapæ•°æ®ï¼Œç”¨æ¥å­˜å‚¨ï¼Œå…¶è®¾ç½®ä¸ºç­‰äºç©ºæ˜ å°„ï¼Œå½“æˆ‘ä»¬å¯åŠ¨æ­¤çŠ¶æ€å¯¹è±¡æ—¶

  @override
  Widget build(BuildContext context) {
    //åœ¨è¿”å›ä»»ä½•å†…å®¹ä¹‹å‰å£°æ˜è¿™äº›æ•°æ®å¹¶è¦†ç›–å®ƒã€‚
    data = ModalRoute.of(context)?.settings.arguments as Map<dynamic, dynamic>;
//è¿™ä¸ªç”¨æ¥æ¥æ”¶æˆ‘ä»¬ä¼ è¿‡æ¥çš„argumentï¼Œå°†è¿”å›æ•°æ®æ˜ å°„
    print(data);
```

è¿™ä¸ªæ•™ç¨‹å¸®åŠ©æˆ‘ä»¬ç†è§£äº†å¦‚ä½•åœ¨ Flutter ä¸­ä¼ é€’è·¯ç”±æ•°æ®ï¼Œå®ç°äº†åŠ è½½å±å¹•å’Œä¸»é¡µä¹‹é—´çš„å¹³æ»‘è¿‡æ¸¡ã€‚



å°é¿é›·

ä»…ä»…è¾“å…¥è¿™ä¸ªä¼šæŠ¥é”™ï¼Œé”™è¯¯åŸå› æ˜¯å› ä¸ºè®¿é—®argumentå±æ€§çš„ï¼Œå¯èƒ½ä¸ºç©ºï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨æ§å®‰å…¨æ“ä½œç¬¦     ?.    ï¼Œä½¿ç”¨äº†ç©ºå®‰å…¨çš„æ“ä½œç¬¦ `?.`ï¼Œå¹¶å°†ç»“æœå¼ºåˆ¶è½¬æ¢ä¸º `Map<dynamic, dynamic>` ç±»å‹ã€‚è¿™æ ·åšæ˜¯å› ä¸º Dart åœ¨è¿è¡Œæ—¶å¯èƒ½æ— æ³•ç¡®å®š `arguments` çš„ç¡®åˆ‡ç±»å‹ï¼Œæ‰€ä»¥ä½ éœ€è¦å‘Šè¯‰å®ƒä½ æœŸæœ›çš„ç±»å‹ã€‚

![image-20231115174100338](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231115174100338.png)

```

//æ¢æˆè¿™ä¸ª
data = ModalRoute.of(context)?.settings.arguments as Map<dynamic, dynamic>;//è¿™ä¸ªç”¨æ¥æ¥æ”¶æˆ‘ä»¬ä¼ è¿‡æ¥çš„argumentï¼Œå°†è¿”å›æ•°æ®æ˜ å°„
```



#### 8ã€ä½¿ç”¨intlåŒ…æ ¼å¼åŒ–å’Œç°å®æ—¥æœŸï¼Œé€šè¿‡intlåŒ…

æ•™ç¨‹å±•ç¤ºäº†å¦‚ä½•å®‰è£…è¿™ä¸ªåŒ…intlï¼Œå¹¶åœ¨ä»£ç ä¸­ä½¿ç”¨å®ƒæ¥ç¾åŒ–æ˜¾ç¤ºæ—¶é—´å’Œæ—¥æœŸã€‚æœ€åï¼Œæ•™ç¨‹è¿˜æ¼”ç¤ºäº†å¦‚ä½•å°†æ ¼å¼åŒ–åçš„æ—¥æœŸå’Œæ—¶é—´è¾“å‡ºåˆ°åº”ç”¨ç¨‹åºçš„ç•Œé¢ä¸Šã€‚

ğŸ“¦ å®‰è£…å¹¶ä½¿ç”¨intlåŒ…æ¥æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´ã€‚

è£…åŒ…éƒ½æ˜¯æœ‰ä¸¤ç§æ–¹å¼çš„ï¼Œæˆ‘ä¸ªäººæ¨èç¬¬ä¸€ç§åœ¨ç»ˆç«¯å®‰è£…ï¼ˆå¿«æ·æ–¹ä¾¿ï¼‰ã€

ç¬¬ä¸€ç§ï¼šåœ¨ç»ˆç«¯é€šè¿‡å‘½ä»¤å®‰è£…

![image-20231115224003972](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231115224003972.png)



ç¬¬äºŒç§ï¼šåœ¨pubspec.yamlå¤„æ›´æ”¹è°ƒç”¨

![image-20231115224107085](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231115224107085.png)





å®‰è£…å¥½åï¼Œè®°å¾—åŠ ä¸Šå¤´æ–‡ä»¶import 'package:intl/intl.dart';

ğŸ”„ ä½¿ç”¨`date format`æ–¹æ³•å°†æ—¶é—´æ ¼å¼åŒ–ä¸ºæ›´æ˜“è¯»çš„å½¢å¼ã€‚

```
//è®¾ç½®æ—¶é—´å±æ€§
//time=now.toString();//ä½¿ç”¨tostringå°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œèµ‹äºˆtime

//ä¼˜åŒ–æ—¶é—´çš„æ ¼å¼
time=DateFormat.jm().format(now);//ä½¿ç”¨è¿™ä¸ªå¯¹æ—¶é—´æ ¼å¼ä¼˜åŒ–
```

![image-20231115224431727](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231115224431727.png)

ğŸš€ æ›´æ–°åº”ç”¨ç¨‹åºï¼Œä»¥åœ¨ä¸»å±å¹•ä¸Šæ˜¾ç¤ºç»è¿‡æ ¼å¼åŒ–çš„æ—¥æœŸå’Œæ—¶é—´ã€‚

åœ¨homeæ–‡ä»¶ä¸­

```
child:Padding(
  padding: const EdgeInsets.fromLTRB(0, 120, 0, 0),//æ§åˆ¶å·¦ä¸Šå³ä¸‹å››ä¸ªæ–¹ä½çš„å¡«å……å¤§å°
  child: Column(
    children: <Widget>[
      TextButton.icon(
          onPressed: (){
            Navigator.pushNamed(context, '/location');
            },
        icon:Icon(Icons.edit_location),
        label:Text('Edit Location'),
      ),
      SizedBox(height: 20.0),//åŠ å…¥å„ç§å°éƒ¨ä»¶ä½¿å¾—ç•Œé¢æŠŠæ•°æ®å±•ç¤ºå‡ºæ¥
      Row(
        mainAxisAlignment: MainAxisAlignment.center,//ä¸»è½´ä¸­å¿ƒå †æˆ
        children: <Widget>[
          Text(
            data['location'],//å°†æ¥å—åˆ°çš„æ•°æ®å±•ç¤ºå‡ºæ¥ï¼Œç±»ä¼¼æ•°ç»„çš„ä½¿ç”¨æ–¹å¼
            style: TextStyle(
              fontSize: 20.0,
              letterSpacing: 2.0
            ),
          )
        ],
      ),
      SizedBox(height: 20.0),
      Text(
        data['time'],
        style: TextStyle(
            fontSize: 70.0,
            letterSpacing: 2.0
        ),
      )
    ],
  ),
)
```

 ğŸ¨ é€šè¿‡è°ƒæ•´æ–‡æœ¬æ ·å¼ï¼Œä½¿ç•Œé¢æ›´ç¾è§‚ã€‚

```
SizedBox(height: 20.0),
Text(
  data['time'],
  style: TextStyle(
      fontSize: 70.0,
      letterSpacing: 2.0
  ),
```



![image-20231115225849464](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231115225849464.png)



#### 8ã€åœ¨åŠ è½½ç•Œé¢ä¸Šæ·»åŠ æ—‹è½¬å›¾æ ‡ï¼Œå®‰è£…flutter_spinkitåŒ…

ç½‘å€ï¼šhttps://pub.dev/packages/flutter_spinkit

 æ‘˜è¦æœ¬æ•™ç¨‹ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨flutter_SpinKitåŒ…åœ¨åŠ è½½å±å¹•ä¸Šæ·»åŠ æ—‹è½¬å›¾æ ‡ï¼Œä»¥æé«˜ç”¨æˆ·ä½“éªŒã€‚é€šè¿‡æ›´æ”¹åŠ è½½å±å¹•ä¸Šçš„ç®€å•æ–‡æœ¬ä¸ºå¸å¼•äººçš„æ—‹è½¬å›¾æ ‡ï¼Œç”¨æˆ·èƒ½å¤Ÿæ›´æ¸…æ™°åœ°çŸ¥é“åº”ç”¨æ­£åœ¨åŠ è½½æ•°æ®ã€‚ğŸ”„ åœ¨åŠ è½½å±å¹•ä¸Šæ·»åŠ æ—‹è½¬å›¾æ ‡ä»¥æ›¿ä»£ç®€å•çš„æ–‡æœ¬ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚

å®‰è£…çš„æ•™ç¨‹å°±ä¸å¤šè¯´ï¼Œä¸Šä¸€èŠ‚å·²è®²äº†ä¸¤ä¸ªå®‰è£…æ–¹å¼



ğŸ“¦ ä½¿ç”¨Flutter Spin KitåŒ…ï¼Œé€šè¿‡åœ¨`pubspec.yaml`æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”ä¾èµ–å¹¶è¿è¡Œ`get dependencies`è·å–è¯¥åŒ…ã€‚-

ğŸ¨ å®šåˆ¶æ—‹è½¬å›¾æ ‡å¤–è§‚ï¼Œå¯ä»¥é€‰æ‹©ä¸åŒå½¢çŠ¶å’Œé£æ ¼çš„æ—‹è½¬æ•ˆæœã€‚

```
Widget build(BuildContext context) {
  return Scaffold(
    backgroundColor: Colors.blue[900],//loadingç•Œé¢çš„èƒŒæ™¯é¢œè‰²
    body: Center(
      child: SpinKitFadingCircle(//è¿™ä¸ªæ˜¯æœ‰ç»Ÿä¸€æ ¼å¼çš„ SpinKitFading+å›¾å½¢è‹±æ–‡ï¼Œä¾‹å¦‚ SpinKitFadingCube
        color: Colors.white,//è®¾ç½®å›¾æ ‡é¢œè‰²
        size: 80.0,//è®¾ç½®å›¾æ ‡å¤§å°
      ),
    ),
  );
}
```

æ ¸å¿ƒä»£ç ï¼š==child: SpinKitFadingCircle(//è¿™ä¸ªæ˜¯æœ‰ç»Ÿä¸€æ ¼å¼çš„ SpinKitFading+å›¾å½¢è‹±æ–‡ï¼Œä¾‹å¦‚ SpinKitFadingCube==

 ğŸš€ é€šè¿‡åœ¨åŠ è½½å®Œæˆåå¯¼èˆªåˆ°ä¸»å±å¹•ï¼Œå±•ç¤ºæ—‹è½¬å›¾æ ‡çš„åŠ è½½æ•ˆæœã€‚

![image-20231115231546419](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231115231546419.png)

 ğŸ‰ æä¾›äº†å¤šç§æ—‹è½¬å›¾æ ‡é€‰é¡¹ï¼Œä¾‹å¦‚æ—‹è½¬åœ†åœˆã€æ–¹å—ã€æ¸å˜ç«‹æ–¹ä½“ç­‰ã€‚

æ ·å¼

![image-20231115230812856](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231115230812856.png)

 ğŸ› ï¸ é€šè¿‡æŸ¥çœ‹Flutter Spin KitåŒ…çš„æ–‡æ¡£ï¼Œäº†è§£å¦‚ä½•è¿›ä¸€æ­¥è‡ªå®šä¹‰å’Œä½¿ç”¨å„ç§å±æ€§ã€‚



#### 9ã€åŠ¨æ€æ›´æ–°èƒŒæ™¯

åœ¨Flutteræ•™ç¨‹çš„ç¬¬33éƒ¨åˆ†ä¸­ï¼Œä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦åœ¨åº”ç”¨ç¨‹åºä¸­åŠ¨æ€æ˜¾ç¤ºç™½å¤©æˆ–é»‘å¤œçš„èƒŒæ™¯å›¾åƒã€‚æ•™ç¨‹é‡ç‚¹æ˜¯å¦‚ä½•ä½¿ç”¨Dartä¸­çš„ä¸‰å…ƒè¿ç®—ç¬¦æ¥è¯„ä¼°æ¡ä»¶ï¼Œä»¥ç¡®å®šå½“å‰æ—¶é—´æ˜¯ç™½å¤©è¿˜æ˜¯é»‘å¤œï¼Œå¹¶ç›¸åº”åœ°è®¾ç½®èƒŒæ™¯å›¾åƒå’Œé¡¶éƒ¨æ¡é¢œè‰²ã€‚

- ğŸŒ ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦åŠ¨æ€è®¾ç½®ç™½å¤©æˆ–é»‘å¤œçš„èƒŒæ™¯å›¾åƒã€‚

  ğŸ• ä½¿ç”¨`DateTime`ç±»è¯„ä¼°å½“å‰æ—¶é—´ï¼Œä»¥ç¡®å®šæ˜¯ç™½å¤©è¿˜æ˜¯é»‘å¤œã€‚

  ğŸ“ ä»‹ç»äº†åœ¨Flutterä¸­ä½¿ç”¨`BoxDecoration`å’Œ`DecorationImage`æ¥è®¾ç½®èƒŒæ™¯å›¾åƒã€‚

åœ¨world_time.dartæ–‡ä»¶ä¸­ä¿®æ”¹

```
bool isDaytime=true;//å®šä¹‰ä¸€ä¸ªå¸ƒå°”ç±»å‹ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯ç™½å¤©
```

```
//isDaytime = condition ? true : false;
isDaytime = now.hour>6&&now.hour<20? true : false;//ä½¿ç”¨ä¸‰å…ƒè¿ç®—æ³•ï¼ŒåŠ¨æ€åˆ¤æ–­ç™½å¤©å’Œé»‘å¤œ
```



åœ¨loading.dartæ–‡ä»¶ä¸­ï¼ŒæŠŠisDaytimeå˜é‡ä¼ ç»™å…¶ä»–é¡µé¢ï¼Œ

```
Navigator.pushReplacementNamed(context, '/home',arguments: {
'location':instance.location,
  'flag':instance.flag,
  'time':instance.time,
  'isDaytime':instance.isDaytime,
});
```

åœ¨home.dartæ–‡ä»¶ä¸­

```
//set background
String bgImage=data['isDaytime']?'day.png':'night.png';//æ¥æ”¶ä¼ å…¥çš„æ•°æ®
```



```
//å› ä¸ºæˆ‘ä»¬æ˜¯å°†å›¾ç‰‡å®Œå…¨åµŒå…¥åˆ°èƒŒæ™¯é‡Œé¢ï¼Œä¸ºäº†æ›´é€‚åˆå±å¹•ï¼Œæˆ‘ä»¬ä½¿ç”¨containerå®¹å™¨æ¥å®ç°
  child:Container(
    decoration: BoxDecoration(//Containerçš„è£…é¥°å±æ€§decoration,BoxDecorationæ˜¯ä¸€ä¸ªç”¨äºå®šä¹‰è£…é¥°æ•ˆæœçš„ç±»ã€‚
      image: DecorationImage(//DecorationImage æ˜¯ç”¨äºå¤„ç†è£…é¥°å›¾åƒçš„ç±»
        image: AssetImage('assets/$bgImage'),//é€šè¿‡AssetImageè·å–ä¸€ä¸ªå›¾åƒæ–‡ä»¶
        fit:BoxFit.cover,
        //fit: BoxFit.cover æŒ‡å®šäº†å›¾åƒçš„é€‚åº”æ–¹å¼ã€‚BoxFit.cover çš„æ„æ€æ˜¯ä½¿å›¾åƒå°½å¯èƒ½å¤§ï¼ŒåŒæ—¶ä¿æŒå…¶çºµæ¨ªæ¯”ï¼Œè¦†ç›–æ•´ä¸ªå®¹å™¨ã€‚
      )
    ),
```

![image-20231116084410609](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231116084410609.png)



![image-20231116085441883](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231116085441883.png)

![image-20231116085522071](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231116085522071.png)

- ğŸ¨ æ ¹æ®æ—¶é—´==è®¾ç½®é¡¶éƒ¨æ¡çš„é¢œè‰²==ï¼Œç™½å¤©ä¸ºæµ…è“è‰²ï¼Œé»‘å¤œä¸ºæ·±è“è‰²ã€‚

![image-20231116090958036](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231116090958036.png)

```
//Color bgColor =data['isDaytime'] ? Colors.blue : Colors.indigo[700]; è¿™ä¸ªå‘ç”Ÿäº†ç©ºå®‰å…¨é—®é¢˜

//å®šä¹‰ä¸€ä¸ªé¢œè‰²å˜é‡æ¥è®¾ç½®èƒŒæ™¯ï¼Œä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦è¿›è¡Œåˆ¤æ–­ï¼Œ
Color? bgColor = data['isDaytime'] != null ? (data['isDaytime'] ? Colors.blue : Colors.indigo[700]) : Colors.grey;
//æ·»åŠ äº†éç©ºæ–­è¨€ !ï¼Œè¿™è¡¨ç¤ºæˆ‘ä»¬ç¡®ä¿¡ data['isDaytime'] ä¸ä¼šæ˜¯ nullã€‚è¿™æ ·å°±å¯ä»¥å°†å…¶å®‰å…¨åœ°è½¬æ¢ä¸º bool ç±»å‹ï¼Œç„¶åå†æ ¹æ®æ¡ä»¶é€‰æ‹©é¢œè‰²ã€‚
```



```
return  Scaffold(
backgroundColor: bgColor,//é€šè¿‡è®¾ç½®èƒŒæ™¯å°±å¯ä»¥ä½¿é‚£ä¸ªé€šçŸ¥æ å˜è‰²ï¼Œä½†æ˜¯æ˜¯åœ¨scaffoldä¸‹é¢è®¾ç½®
```

- é€šè¿‡æ›´æ”¹ï¼ŒæŠŠæ–‡å­—å±æ€§å˜æ˜æ˜¾

  ```
  icon:Icon(
        Icons.edit_location,
      color: Colors.grey[300],
    ),
    label:Text(
        'Edit Location',
            style:TextStyle(
        color: Colors.grey[300],
    )
    ),
  ),
  ```

![image-20231116091803888](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231116091803888.png)

æ³¨æ„

- âš ï¸ éœ€è¦æ³¨æ„åœ¨åº”ç”¨ç¨‹åºä¸­å°†èƒŒæ™¯å›¾åƒå’Œé¡¶éƒ¨æ¡é¢œè‰²ä¸å½“å‰æ—¶é—´ç›¸å…³è”ï¼Œä»¥ä½¿åº”ç”¨åœ¨ç™½å¤©å’Œé»‘å¤œä¹‹é—´åŠ¨æ€å˜åŒ–ã€‚
- â„¹ï¸ ä¸‰å…ƒè¿ç®—ç¬¦ç”¨äºæ ¹æ®æ¡ä»¶åœ¨ä¸¤ä¸ªå€¼ä¹‹é—´è¿›è¡Œé€‰æ‹©ï¼Œè¿™åœ¨åŠ¨æ€è®¾ç½®åº”ç”¨ç¨‹åºUIæ–¹é¢éå¸¸æœ‰ç”¨ã€‚



#### 10ã€åˆ›å»ºä¸€ä¸ªé€‰æ‹©ä½ç½®çš„é¡µé¢ï¼Œå±•ç¤ºä¸åŒçš„æŒ‰é’®å’Œå¡ç‰‡

æ‘˜è¦

åœ¨è¿™ä¸ªFlutteræ•™ç¨‹çš„ç¬¬34éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬ç€é‡äºåˆ›å»ºä¸€ä¸ªé€‰æ‹©ä½ç½®çš„é¡µé¢ã€‚æˆ‘ä»¬è®¡åˆ’ä½¿ç”¨`ListView.builder`æ„å»ºä¸€ä¸ªæ¨¡æ¿ï¼Œä»¥å±•ç¤ºä¸åŒä½ç½®çš„æŒ‰é’®æˆ–å¡ç‰‡ã€‚ç‚¹å‡»å…¶ä¸­ä¸€ä¸ªä½ç½®å°†è§¦å‘æ›´æ–°æ“ä½œï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„`WorldTime`ç±»å®ä¾‹ä»¥è·å–æ—¶é—´æ•°æ®ï¼Œå¹¶åœ¨è¿”å›ä¸»é¡µæ—¶æ˜¾ç¤ºæ›´æ–°åçš„æ•°æ®ã€‚

äº®ç‚¹

ğŸŒ åˆ›å»º`ListView.builder`ä»¥å±•ç¤ºä¸åŒä½ç½®çš„æŒ‰é’®æˆ–å¡ç‰‡ã€‚

```
//æŠŠæ‰€æœ‰çš„åœ°å€æ•°æ®ï¼Œå­˜æ”¾åœ¨ä¸€ä¸ªåˆ—è¡¨é‡Œé¢ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯å¾ªç¯æ¯ä¸€å±‚è¾“å‡º
List <WorldTime> locations=[
WorldTime(url: 'Europe/London', location: 'London', flag: 'uk.png'),
WorldTime(url: 'Europe/Berlin', location: 'Athens', flag: 'greece.png'),
WorldTime(url: 'Africa/Cairo', location: 'Cairo', flag: 'egypt.png'),
WorldTime(url: 'Africa/Nairobi', location: 'Nairobi', flag: 'kenya.png'),
WorldTime(url: 'America/Chicago', location: 'Chicago', flag: 'usa.png'),
WorldTime(url: 'America/New_York', location: 'New York', flag: 'usa.png'),
WorldTime(url: 'Asia/Seoul', location: 'Seoul', flag: 'south_korea.png'),
WorldTime(url: 'Asia/Jakarta', location: 'Jakarta', flag: 'indonesia.png'),
];
```



åœ¨éƒ¨åˆ†æ”¾åœ¨ä¸»ä½“éƒ¨åˆ†é‚£é‡Œ

```
body: ListView.builder(
  itemCount: locations.length,
  itemBuilder:(context,index){
    return Padding(
      padding: const EdgeInsets.symmetric(vertical: 1.0,horizontal: 4.0),
      //åœ¨å‚ç›´æ–¹å‘ä¸Šåº”ç”¨ 1.0 çš„ä¸Šä¸‹é—´è·ï¼Œåœ¨æ°´å¹³æ–¹å‘ä¸Šåº”ç”¨ 4.0 çš„å·¦å³é—´è·
      child: Card(
        child:ListTile(
          onTap: (){//ontapç‚¹å‡»è¿”å›
            print(locations[index].location);
          },
          title: Text(locations[index].location),
          leading: CircleAvatar(//æ·»åŠ èƒŒæ™¯ç…§ç‰‡ï¼Œè®¾ç½®åœ†å½¢å¤´åƒ
            backgroundImage: AssetImage('assets/${locations[index].flag}'),//å½“æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²ä¸­è¾“å‡ºå˜é‡æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·
          ),
        ),
      ),
    );
  }
),
```



ğŸ–¼ï¸ ä½¿ç”¨`ListTile`å’Œ`CircleAvatar`åˆ›å»ºæ¯ä¸ªä½ç½®çš„æ¨¡æ¿ã€‚

```
child:ListTile(
  onTap: (){
    print(locations[index].location);
  },
  title: Text(locations[index].location),
  leading: CircleAvatar(
    backgroundImage: AssetImage('assets/${locations[index].flag}'),//å½“æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²ä¸­è¾“å‡ºå˜é‡æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·
  ),
```

ğŸš€ ä½¿ç”¨`onTap`å‡½æ•°æ•è·ç”¨æˆ·ç‚¹å‡»äº‹ä»¶ï¼Œç›®å‰åªæ˜¯æ‰“å°æ‰€é€‰ä½ç½®çš„ä¿¡æ¯ã€‚

 ğŸ“‹ ä½¿ç”¨`Padding`å°éƒ¨ä»¶ä¸ºæ¯ä¸ªå¡ç‰‡æ·»åŠ é—´è·ã€‚

```
return Padding(
  padding: const EdgeInsets.symmetric(vertical: 1.0,horizontal: 4.0),
  //åœ¨å‚ç›´æ–¹å‘ä¸Šåº”ç”¨ 1.0 çš„ä¸Šä¸‹é—´è·ï¼Œåœ¨æ°´å¹³æ–¹å‘ä¸Šåº”ç”¨ 4.0 çš„å·¦å³é—´è·
```

![image-20231116093400383](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231116093400383.png)

![image-20231116094213045](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231116094213045.png)





#### 11ã€æ›´æ–°è¿”å›ä¸»ç•Œé¢

æ‘˜è¦

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦åˆ°äº†å¦‚ä½•æ›´æ–°Flutteråº”ç”¨ç¨‹åºä¸­çš„æ—¶é—´æ•°æ®ï¼Œå…·ä½“æ¶‰åŠç‚¹å‡»ä¸åŒä½ç½®åæ›´æ–°æ—¶é—´çš„è¿‡ç¨‹ã€‚æˆ‘ä»¬é€šè¿‡åˆ›å»ºä¸€ä¸ªvoidå‡½æ•°`update time`æ¥å®ç°è¿™ä¸€ç‚¹ï¼Œè¯¥å‡½æ•°æ¥æ”¶ç´¢å¼•å‚æ•°ï¼Œè¡¨ç¤ºæˆ‘ä»¬è¦è°ƒç”¨`get time`æ–¹æ³•çš„`WorldTime`å®ä¾‹ã€‚é€šè¿‡å¼‚æ­¥æ–¹å¼ç­‰å¾…è·å–æ—¶é—´æ•°æ®ï¼Œç„¶åå°†æ•°æ®ä¼ é€’å›ä¸»é¡µå¹¶æ›´æ–°UIã€‚

 ğŸŒ æ›´æ–°æ—¶é—´ï¼šåˆ›å»ºäº†ä¸€ä¸ªvoidå‡½æ•°`update time`ï¼Œç”¨äºåœ¨ç‚¹å‡»ä¸åŒä½ç½®åæ›´æ–°æ—¶é—´æ•°æ®ã€‚

åœ¨location.dart

```
void updateTime(index) async{
  WorldTime instance=locations[index];
  await instance.getTime();
  //navigate to home screen
  Navigator.pop(context,{
    'location':instance.location,
    'flag':instance.flag,
    'time':instance.time,
    'isDaytime':instance.isDaytime,
  });
}
```



 ğŸ”„ å¼‚æ­¥æ“ä½œï¼šé€šè¿‡å¼‚æ­¥æ“ä½œç­‰å¾…è·å–æ—¶é—´æ•°æ®ï¼Œç¡®ä¿åœ¨æ•°æ®å‡†å¤‡å¥½ä¹‹å‰ä¸ä¼šç»§ç»­æ‰§è¡Œåç»­æ“ä½œã€‚

ğŸš€ å¯¼èˆªå’Œæ•°æ®ä¼ é€’ï¼šä½¿ç”¨`navigator.pop`æ–¹æ³•å°†é¡µé¢å¼¹å‡ºæ ˆï¼Œè¿”å›åˆ°åº•éƒ¨é¡µé¢ï¼Œå¹¶ä¼ é€’æ›´æ–°åçš„æ•°æ®ã€‚

åœ¨home.dartæ–‡ä»¶

```
TextButton.icon(
      onPressed: ()async{
      dynamic result = await Navigator.pushNamed(context, '/location');
      if(result != null){
         setState(() {
         data = {
         'time': result['time'],
         'location': result['location'],
         'isDaytime': result['isDaytime'],
         'flag': result['flag']
         };
         });
    }
},
```

ğŸ”„ ä½¿ç”¨`setState`æ›´æ–°çŠ¶æ€ï¼šé€šè¿‡`setState`æ–¹æ³•æ›´æ–°ä¸»é¡µçš„çŠ¶æ€ï¼Œä»¥ä¾¿åæ˜ æ–°çš„æ—¶é—´å’Œä½ç½®æ•°æ®ã€‚

ğŸŒ ç½‘ç»œè¯·æ±‚ï¼šé€šè¿‡è°ƒç”¨`get time`æ–¹æ³•è·å–æ—¶é—´æ•°æ®ï¼Œç¡®ä¿åœ¨è·å–æ•°æ®æ—¶åº”ç”¨ç¨‹åºä¸ä¼šé˜»å¡ã€‚

```
if(result != null){
  setState(() {
    data = {
      'time': result['time'],
      'location': result['location'],
      'isDaytime': result['isDaytime'],
      'flag': result['flag']
    };
  });
}
```

å®ç°ç‚¹å‡»ï¼Œä¼ å…¥æ–°çš„æ•°æ®ï¼Œè¿”å›åˆ°ä¸»ç•Œé¢å±•ç¤º

![image-20231116094213045](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231116094213045.png)

![image-20231116104609990](https://hmark.oss-cn-guangzhou.aliyuncs.com/%E6%95%B0%E6%8D%AE/image-20231116104609990.png)



ğŸ“± Flutterå¼€å‘ï¼šå­¦ä¹ äº†åœ¨Flutteråº”ç”¨ç¨‹åºä¸­å¤„ç†é¡µé¢å¯¼èˆªå’ŒçŠ¶æ€æ›´æ–°çš„åŸºæœ¬æŠ€å·§ã€‚

ğŸ§© æ‰©å±•åº”ç”¨ï¼šä½œè€…é¼“åŠ±åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œæ‰©å±•ï¼Œä¾‹å¦‚æ·»åŠ æ›´å¤šä½ç½®æˆ–ä½¿ç”¨Firebaseä½œä¸ºåç«¯ã€‚



**æ³¨æ„ï¼š** ==ä»¥ä¸Šä»…æ˜¯æ˜¯Flutterå…¥é—¨è¯¾ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œæ·±å…¥å¼€å‘å»ºè®®æŸ¥é˜…==

Flutteræ–‡æ¡£https://flutter.cn/docs

å®˜æ–¹Cookbookhttps://flutter.cn/docs/cookbook
